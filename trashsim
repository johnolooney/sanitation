
<head>

<style>
#leftcolumn dl{display:block;margin-left:20px;}#leftcolumn dt{font-size:120%;color:#999;margin:10px 0 0;padding:0;}#leftcolumn dt.imp strong{font-weight:normal;color:red;}#leftcolumn dd{margin:0;padding:0;}#hor-minimalist-a{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;background:#fff;width:880px;border-collapse:collapse;text-align:left;margin:20px;}#hor-minimalist-a th{font-size:14px;font-weight:normal;color:#039;border-bottom:2px solid #6678b1;padding:10px 8px;}#hor-minimalist-a td{color:#669;padding:9px 8px 0;}#hor-minimalist-a tbody tr:hover td{color:#009;}#hor-minimalist-b{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;background:#fff;width:880px;border-collapse:collapse;text-align:left;margin:20px;}#hor-minimalist-b th{font-size:14px;font-weight:normal;color:#039;border-bottom:2px solid #6678b1;padding:10px 8px;}#hor-minimalist-b td{border-bottom:1px solid #ccc;color:#669;padding:6px 8px;}#hor-minimalist-b tbody tr:hover td{color:#009;}#ver-minimalist{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;margin:30px 30px 30px 15px;}#ver-minimalist th{font-weight:normal;font-size:14px;border-bottom:2px solid #6678b1;border-right:30px solid #fff;border-left:30px solid #fff;color:#039;padding:8px 2px;}#ver-minimalist td{border-right:30px solid #fff;border-left:30px solid #fff;color:#669;padding:12px 2px 0;}#box-table-a{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;margin:20px;}#box-table-a th{font-size:13px;font-weight:normal;background:#b9c9fe;border-top:4px solid #aabcfe;border-bottom:1px solid #fff;color:#039;padding:8px;}#box-table-a td{background:#e8edff;border-bottom:1px solid #fff;color:#669;border-top:1px solid transparent;padding:8px;}#box-table-a tr:hover td{background:#d0dafd;color:#339;}#box-table-b{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:center;border-collapse:collapse;border-top:7px solid #9baff1;border-bottom:7px solid #9baff1;margin:20px;}#box-table-b th{font-size:13px;font-weight:normal;background:#e8edff;border-right:1px solid #9baff1;border-left:1px solid #9baff1;color:#039;padding:8px;}#box-table-b td{background:#e8edff;border-right:1px solid #aabcfe;border-left:1px solid #aabcfe;color:#669;padding:8px;}#hor-zebra{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;margin:20px;}#hor-zebra th{font-size:14px;font-weight:normal;color:#039;padding:10px 8px;}#hor-zebra td{color:#669;padding:8px;}#hor-zebra .odd{background:#e8edff;}#ver-zebra{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;margin:0 20px 20px 20px;}#ver-zebra th{font-size:14px;font-weight:normal;border-right:1px solid #fff;border-left:1px solid #fff;color:#039;padding:12px 15px;}#ver-zebra td{border-right:1px solid #fff;border-left:1px solid #fff;color:#669;padding:8px 15px;}.vzebra-odd{background:#eff2ff;}.vzebra-even{background:#e8edff;}#ver-zebra #vzebra-adventure,#ver-zebra #vzebra-children{background:#d0dafd;border-bottom:1px solid #c8d4fd;}#ver-zebra #vzebra-comedy,#ver-zebra #vzebra-action{background:#dce4ff;border-bottom:1px solid #d6dfff;}#one-column-emphasis{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;margin:20px;}#one-column-emphasis th{font-size:14px;font-weight:normal;color:#039;padding:12px 15px;}#one-column-emphasis td{color:#669;border-top:1px solid #e8edff;padding:10px 15px;}.oce-first{background:#d0dafd;border-right:10px solid transparent;border-left:10px solid transparent;}#one-column-emphasis tr:hover td{color:#339;background:#eff2ff;}#newspaper-a{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;border:1px solid #69c;margin:20px;}#newspaper-a th{font-weight:normal;font-size:14px;color:#039;border-bottom:1px dashed #69c;padding:12px 17px;}#newspaper-a td{color:#669;padding:7px 17px;}#newspaper-a tbody tr:hover td{color:#339;background:#d0dafd;}#newspaper-b{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;border:1px solid #69c;margin:20px;}#newspaper-b th{font-weight:normal;font-size:14px;color:#039;padding:15px 10px 10px;}#newspaper-b tbody{background:#e8edff;}#newspaper-b td{color:#669;border-top:1px dashed #fff;padding:10px;}#newspaper-b tbody tr:hover td{color:#339;background:#d0dafd;}#newspaper-c{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;border:1px solid #6cf;margin:20px;}#newspaper-c th{font-weight:normal;font-size:13px;color:#039;text-transform:uppercase;border-right:1px solid #0865c2;border-top:1px solid #0865c2;border-left:1px solid #0865c2;border-bottom:1px solid #fff;padding:20px;}#newspaper-c td{color:#669;border-right:1px dashed #6cf;padding:10px 20px;}#rounded-corner{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;margin:20px;}#rounded-corner thead th.rounded-company{background:#b9c9fe url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/left.png") left -1px no-repeat;}#rounded-corner thead th.rounded-q4{background:#b9c9fe url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/right.png") right -1px no-repeat;}#rounded-corner th{font-weight:normal;font-size:13px;color:#039;background:#b9c9fe;padding:8px;}#rounded-corner td{background:#e8edff;border-top:1px solid #fff;color:#669;padding:8px;}#rounded-corner tfoot td.rounded-foot-left{background:#e8edff url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/botleft.png") left bottom no-repeat;}#rounded-corner tfoot td.rounded-foot-right{background:#e8edff url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/botright.png") right bottom no-repeat;}#rounded-corner tbody tr:hover td{background:#d0dafd;}#background-image{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;background:url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/blurry.jpg") 330px 59px no-repeat;margin:20px;}#background-image th{font-weight:normal;font-size:14px;color:#339;padding:12px;}#background-image td{color:#669;border-top:1px solid #fff;padding:9px 12px;}#background-image tfoot td{font-size:11px;}#background-image tbody td{background:url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/back.png");}* html #background-image tbody td{filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='table-images/back.png',sizingMethod='crop');background:none;}#background-image tbody tr:hover td{color:#339;background:none;}#gradient-style{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;margin:20px;}#gradient-style th{font-size:13px;font-weight:normal;background:#b9c9fe url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/gradhead.png") repeat-x;border-top:2px solid #d3ddff;border-bottom:1px solid #fff;color:#039;padding:8px;}#gradient-style td{border-bottom:1px solid #fff;color:#669;border-top:1px solid #fff;background:#e8edff url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/gradback.png") repeat-x;padding:8px;}#gradient-style tfoot tr td{background:#e8edff;font-size:12px;color:#99c;}#gradient-style tbody tr:hover td{background:#d0dafd url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/gradhover.png") repeat-x;color:#339;}#pattern-style-a{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;background:url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/pattern.png");margin:20px;}#pattern-style-a thead tr{background:url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/pattern-head.png");}#pattern-style-a th{font-size:13px;font-weight:normal;border-bottom:1px solid #fff;color:#039;padding:8px;}#pattern-style-a td{border-bottom:1px solid #fff;color:#669;border-top:1px solid transparent;padding:8px;}#pattern-style-a tbody tr:hover td{color:#339;background:#fff;}#pattern-style-b{font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;width:880px;text-align:left;border-collapse:collapse;background:url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/patternb.png");margin:20px;}#pattern-style-b thead tr{background:url("http://media.smashingmagazine.com/images/express-css-table-design/table-images/patternb-head.png");}#pattern-style-b th{font-size:13px;font-weight:normal;border-bottom:1px solid #fff;color:#039;padding:8px;}#pattern-style-b td{border-bottom:1px solid #fff;color:#669;border-top:1px solid transparent;padding:8px;}#pattern-style-b tbody tr:hover td{color:#339;background:#cdcdee;}.dp-highlighter{font-family:"Consolas", "Courier New", Courier, mono, serif;font-size:12px;background-color:#E7E5DC;width:99%;overflow:auto;padding-top:1px;margin:18px 0!important;}.dp-highlighter ol,.dp-highlighter ol li,.dp-highlighter ol li span{border:none;margin:0;padding:0;}.dp-highlighter a,.dp-highlighter a:hover{background:none;border:none;margin:0;padding:0;}.dp-highlighter .bar{padding-left:45px;}.dp-highlighter.collapsed .bar,.dp-highlighter.nogutter .bar{padding-left:0;}.dp-highlighter ol{list-style:decimal;background-color:#fff;color:#5C5C5C;margin:0 0 1px 45px !important;padding:0;}.dp-highlighter.nogutter ol,.dp-highlighter.nogutter ol li{list-style:none!important;margin-left:0!important;}.dp-highlighter ol li,.dp-highlighter .columns div{list-style:decimal-leading-zero;list-style-position:outside!important;border-left:3px solid #6CE26C;background-color:#F8F8F8;color:#5C5C5C;line-height:14px;margin:0!important;padding:0 3px 0 10px !important;}.dp-highlighter.nogutter ol li,.dp-highlighter.nogutter .columns div{border:0;}.dp-highlighter .columns{background-color:#F8F8F8;color:gray;overflow:hidden;width:100%;}.dp-highlighter .columns div{padding-bottom:5px;}.dp-highlighter ol li.alt{background-color:#FFF;color:inherit;}.dp-highlighter ol li span{color:black;background-color:inherit;}.dp-highlighter.collapsed ol{margin:0;}.dp-highlighter.collapsed ol li{display:none;}.dp-highlighter.printing{border:none;}.dp-highlighter.printing .tools{display:none!important;}.dp-highlighter.printing li{display:list-item!important;}.dp-highlighter .tools{font:9px Verdana, Geneva, Arial, Helvetica, sans-serif;color:silver;background-color:#f8f8f8;border-left:3px solid #6CE26C;padding:3px 8px 10px 10px;}.dp-highlighter.nogutter .tools{border-left:0;}.dp-highlighter.collapsed .tools{border-bottom:0;}.dp-highlighter .tools a{font-size:9px;color:#a0a0a0;background-color:inherit;text-decoration:none;margin-right:10px;}.dp-highlighter .tools a:hover{color:red;background-color:inherit;text-decoration:underline;}.dp-about{background-color:#fff;color:#333;margin:0;padding:0;}.dp-about table{width:100%;height:100%;font-size:11px;font-family:Tahoma, Verdana, Arial, sans-serif!important;}.dp-about td{vertical-align:top;padding:10px;}.dp-about .copy{border-bottom:1px solid #ACA899;height:95%;}.dp-about .title{color:red;background-color:inherit;font-weight:bold;}.dp-about .para{margin:0 0 4px;}.dp-about .footer{background-color:#ECEADB;color:#333;border-top:1px solid #fff;text-align:right;}.dp-about .close{font-size:11px;font-family:Tahoma, Verdana, Arial, sans-serif!important;background-color:#ECEADB;color:#333;width:60px;height:22px;}.dp-highlighter .comment,.dp-highlighter .comments{color:#008200;background-color:inherit;}.dp-highlighter .string{color:blue;background-color:inherit;}.dp-highlighter .keyword{color:#069;font-weight:bold;background-color:inherit;}.dp-highlighter .preprocessor{color:gray;background-color:inherit;}

.button {
    background-color: #ff9933; /* Green */
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
}
</style>



<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>

		



<style>

/*------------------------------ Result Table Styling Information ---------------------------------*/
table.resultTbl
{
    background: #fff;
    border: 1px solid black;
    color: #666;
}

table.resultTbl caption
{
    background: #4779B6;
    -moz-border-radius: 8px;
    color: #fff;
    font-size: 1.5em;
    font-weight: bold;
    margin: 0 0 4px;
    padding: 1em;
    text-align: center;
}

table.resultTbl td, table.resultTbl th
{
    padding: 1em .5em;
}

table.resultTbl th
{
    background: #4B6C9E;
    border-left: 2px solid #4779B6;
    -moz-border-radius: 8px;
    color: #fff;
    font-size: 15px;
    font-weight: bold;
    text-align: left;
    border: 1px solid black;
}



table.resultTbl tbody th, table.resultTbl tbody td
{
    text-align: left;
    vertical-align: top;
    border: 1px solid black;
}

table.resultTbl tfoot td, table.resultTbl tfoot th
{
    background: #4779B6;
    -moz-border-radius: 8px;
    color: #fff;
}

</style>


<script language=javascript>


//===============================CALCULATE INDIVIDUAL==============================
//===============================CALCULATE==============================
//===============================CALCULATE==============================
//===============================CALCULATE==============================
//===============================CALCULATE==============================

var scene = false; 
var step1 = false; 
var step2 = false; 

var empmod = false; 
var grossmod = false; 
var profitmod = false; 


function runindv(){

if(scene == false){alert("You have not yet chosen a scenario"); return;}
if(step1 == false){alert("You have not yet completed Setup Step 1: Loading rates and classes");return;}
if(step2 == false){alert("You have not yet completed Step 2: Loading Data");return;}


var lines;
var glines;
var plines;

var TA=document.form1.textarea1.value;
if(document.all) { // IE
lines=TA.split("\r\n");
}
else { //Mozilla
lines=TA.split("\n");
}

var gTA=document.form1.textarea2.value;
if(document.all) { // IE
glines=gTA.split("\r\n");
}
else { //Mozilla
glines=gTA.split("\n");
}

var pTA=document.form1.textarea3.value;
if(document.all) { // IE
plines=pTA.split("\r\n");
}
else { //Mozilla
plines=pTA.split("\n");
}







        var osum = 0; 
        var totemp = 0;
        var totrec = 0;

var reshead = "<table id='hor-minimalist-a'  width=1200px><th colspan=12>Report</th><tr>";
		
var res = "  ";

numfirms = lines.length;
document.getElementById("nfirms").value = numfirms;
  var adminfee =  document.getElementById("admindd").options[document.getElementById("admindd").selectedIndex].text;
var mintax =  document.getElementById("mintaxdd").options[document.getElementById("mintaxdd").selectedIndex].text;
numfirms = document.getElementById("nfirms").value;


//alert(lines.length + "  " + glines.length  + "   " + plines.length);

for(var k=0; k<lines.length; k++) {

  var valAr = lines[k].split(",");
  var empval = lines[k];
  var gval = glines[k];
  var pval = plines[k];
   if(empval == "")empval = 0;
    if(pval == "")pval = 0;
    if(gval == "")gval = 0;
     osum = 0;


       //test for content in string
        if(empval.toString().length > 0  && pval.toString().length > 0  && gval.toString().length > 0  && empval != null){


 if(k==0){reshead = reshead + "<th>FirmID</th>"; }
res = res + "<tr><td>" + (k + 1).toString() + " </td>";

if(document.getElementById("Sadmin").checked == true){ 
res = res + "<td>" + parseInt(adminfee) + " </td>";
	if(document.getElementById("SSadmin").checked == true){ 
	osum  = osum +  parseInt(adminfee);
	}
 if(k==0){reshead = reshead + "<th>Admin Fee</th>"; }
   
 	
 }	
 
 if(document.getElementById("Sflat").checked == true){  
               if(k==0){reshead = reshead + "<th>Flat Fee per Firm</th>"; }
		
			// FLAT FEE
		 res = res + "<td>"  + Math.round(parseFloat(document.getElementById("frate").value))  +  " </td>";
		 if(document.getElementById("SSflat").checked == true){ 
	        osum  = osum +   Math.round(parseFloat(document.getElementById("frate").value)) ;
	      }

}

if(document.getElementById("Semp").checked == true){		 
      	//	res = res + "<h3>Flat fee per  Employee Based</h3>";

		var num2 = new Number((parseInt(empval) * parseInt(document.getElementById("nerate").value )));

		res = res + "<td>"  + Math.round(num2)  +  " </td>";
		 if(document.getElementById("SSemp").checked == true){ 
	        osum  = osum +   Math.round(num2)  ;
	      }     
 if(k==0){reshead = reshead + "<th>Flat Fee per Employee</th>"; }
}





          //==========Employment Range ===============
	   


 var totp
 var chosen = 0;

if(document.getElementById("Sempfirm").checked == true){  //=== Employee Range with Flat Fee for Firm
      for(i=1;i<11;i++){


             if(parseInt(empval) >=  parseInt( eval('document.getElementById("fbr' + i + '").value') ) &&  parseInt(empval) < parseInt( eval('document.getElementById("fer' + i + '").value') ) ){ chosen = i;
            // alert(eval('document.getElementById("br' + i + '").value')   + '  -  ' +  eval('document.getElementById("er' + i + '").value') );

             }

}

 	totp = 0;
 	if(chosen != 0 ){
	         totp = parseFloat( eval('document.getElementById("ferate' + chosen.toString() + '").value')   *   parseInt(1) );
      }
		    res = res + "<td>" + Math.round(totp)  + " </td>";
		if(document.getElementById("SSempfirm").checked == true){ 
	        osum  = osum +   Math.round(totp)  ;
	      }     

			 if(k==0){reshead = reshead + "<th>Employee Range with Flat Fee for Firms</th>"; }

}



if(document.getElementById("SempRange").checked == true){ 
 chosen = 0;

          for(i=1;i<11;i++){


             if(parseInt(empval) >=  parseInt( eval('document.getElementById("br' + i + '").value') ) &&  parseInt(empval) < parseInt( eval('document.getElementById("er' + i + '").value') ) ){ chosen = i;
            // alert(eval('document.getElementById("br' + i + '").value')   + '  -  ' +  eval('document.getElementById("er' + i + '").value') );

             }

}			 	//res = res + "<h3>Employment Levels/Classes for No. of Employees</h3>";
		totp = 0;
 	if(chosen != 0 ){
	         totp = parseFloat( eval('document.getElementById("erate' + chosen.toString() + '").value')   *   parseInt(empval) );
      }
		    res = res + "<td>" + Math.round(totp)  + " </td>";
		if(document.getElementById("SSempRange").checked == true){ 
	        osum  = osum +   Math.round(totp)  ;
	      }    
			 if(k==0){reshead = reshead + "<th>Employee Range with Different Fees per Employee</th>"; }

}





if(document.getElementById("Sempgross").checked == true){
	//res = res + "<h3>Employment RAnge GR rates</h3>";
             chosen = 0;
          for(i=1;i<11;i++){


             if(parseInt(empval) >=  parseInt( eval('document.getElementById("dbr' + i + '").value') ) &&  parseInt(empval) < parseInt( eval('document.getElementById("der' + i + '").value') ) ){ chosen = i;

             }

}
		totp = 0;
 	if(chosen != 0 ){
	         totp = parseFloat( eval('document.getElementById("derate' + chosen.toString() + '").value')   *   parseInt(gval) );
      }
		    res = res + "<td>" + Math.round(totp)  + " </td>";
			if(document.getElementById("SSempgross").checked == true){ 
	        osum  = osum +   Math.round(totp)  ;
	      }    
			 if(k==0){reshead = reshead + "	<th>Employee Range with Different GR Rates</th>"; }

}



			 	//res = res + "<h3>Simple Gross Receipt Based</h3>";

if(document.getElementById("Sgross").checked == true){ 
		var num = new Number(parseInt( parseInt(gval) * parseFloat(document.getElementById("grrate").value)  ));

		res = res + "<td>"  + Math.round(num)  +  " </td>";
		 if(k==0){reshead = reshead + "<th>One Gross Receipt Rate for all Firms</th>"; }

}




if(document.getElementById("Sgrossfirm").checked == true){ 
		          // ===========Gross receipts range ==========
				  //	res = res + "<h3>Gross Receipt Classes Firm Fee</h3>";
   chosen = 0;
    for(i=1;i<11;i++){
             if(parseInt(gval) >=  parseInt( eval('document.getElementById("fbbr' + i + '").value') ) &&  parseInt(gval) < parseInt( eval('document.getElementById("feer' + i + '").value') ) ){ chosen = i;


             }

    }
        totp = 0;
			if(chosen != 0 ){
                 	if(eval('document.getElementById("feerate' + chosen + '").value') != ""  ){
	                 totp = parseFloat( eval('document.getElementById("feerate' + chosen + '").value'))  *   parseInt( 1  );
                   }
				   }

	 	res = res + "<td>" + Math.round(totp)  + " </td>";
		if(document.getElementById("SSgrossfirm").checked == true){ 
	        osum  = osum +   Math.round(totp)  ;
	      }    
		 if(k==0){reshead = reshead + "<th>Gross Receipt Class with Various Flat Fees for Firms</th>"; }
}



if(document.getElementById("Sgrossrate").checked == true){ 
			//	res = res + "<h3>Gross Receipt Classes</h3>";
    chosen = 0;
    for(i=1;i<11;i++){
             if(parseInt(gval) >=  parseInt( eval('document.getElementById("bbr' + i + '").value') ) &&  parseInt(gval) < parseInt( eval('document.getElementById("eer' + i + '").value') ) ){ chosen = i;


             }

    }
        totp = 0;
			if(chosen != 0 ){
                 	if(eval('document.getElementById("eerate' + chosen + '").value') != ""  ){
	                 totp = parseFloat( eval('document.getElementById("eerate' + chosen + '").value'))  *   parseInt( gval  );
                   }
				   }

	 	res = res + "<td>" + Math.round(totp)  + " </td>";
		if(document.getElementById("SSgrossrate").checked == true){ 
	        osum  = osum +   Math.round(totp)  ;
	      }  
		 if(k==0){reshead = reshead + "<th>Gross Receipt Class with Various GR Tax Rates</th>"; }
}	

	

	if(document.getElementById("Sgrossrateemp").checked == true){
			//	res = res + "<h3>Gross Receipt Classes with fee for Employees</h3>";

    chosen = 0;
    for(i=1;i<11;i++){
             if(parseInt(gval) >=  parseInt( eval('document.getElementById("dbbr' + i + '").value') ) &&  parseInt(gval) < parseInt( eval('document.getElementById("deer' + i + '").value') ) ){ chosen = i;
             }
    }

        totp = 0;
			if(chosen != 0 ){
                 	if(eval('document.getElementById("deerate' + chosen + '").value') != ""  ){
	                 totp = parseFloat( eval('document.getElementById("deerate' + chosen + '").value'))  *   parseInt( empval  );
                   }
		}

	 	res = res + "<td>" + Math.round(totp)  + " </td>";
		if(document.getElementById("SSgrossrateemp").checked == true){ 
	        osum  = osum +   Math.round(totp)  ;
	      }  
		 if(k==0){reshead = reshead + "<th>Gross Receipt Class with Various Per Employee Fees</th>"; }

}


if(document.getElementById("Spfirm").checked == true){
			// Profitability flat

	           	totp = 0;
	    totp = 	parseFloat( eval('document.getElementById("prate' + pval + '").value'))  ;
		res = res + "<td>" + Math.round(totp)  + " </td>";
		if(document.getElementById("SSpfirm").checked == true){ 
	        osum  = osum +   Math.round(totp)  ;
	      }  
		 if(k==0){reshead = reshead + "<th>Profitability Class with Flat Fee for Firms</th>"; }
}


if(document.getElementById("Spemp").checked == true){
			// res = res + "<h3>Profitability & No. of Employees</h3>";
      totp = 0;
                  	if(eval('document.getElementById("perate' + pval + '").value') != ""  ){
	                           totp =   parseFloat( eval('document.getElementById("perate' + pval + '").value'))  *   parseInt( empval  );
                 }

		res = res + "<td>" + Math.round(totp)  + " </td>";
		if(document.getElementById("SSpemp").checked == true){ 
	        osum  = osum +   Math.round(totp)  ;
	      }  
		 if(k==0){reshead = reshead + "<th>Profitability Class with Various Fees for No. of Employees</th>"; }

}


if(document.getElementById("Spgross").checked == true){
		//res = res + "<h3>Profitability & Gross Receipts Rate</h3>";
   totp = 0;
             	if(eval('document.getElementById("pgrate' + pval + '").value') != ""  ){
	                   totp =   parseFloat( eval('document.getElementById("pgrate' + pval + '").value'))  *   parseInt(  gval );
              }

		res = res + "<td>" + Math.round(totp) + " </td>";
		if(document.getElementById("SSpgross").checked == true){ 
	        osum  = osum +   Math.round(totp)  ;
	      }  
		 if(k==0){reshead = reshead + "<th>Profitability Class with Various GR Tax Rates</th>"; }

}



//=============not used====================
		//res = res + "<h3>Profitability & Gross Receipts Rate Plus Flat Fee for Employees in Class</h3>";
    totp = 0;
                     	if(eval('document.getElementById("epgrate' +  pval + '").value') != ""  ){
	                       totp = totp +  parseFloat( eval('document.getElementById("epgrate' +  pval + '").value'))  *   parseInt( gval  );
                         }
						if(eval('document.getElementById("err' + pval + '").value') != ""  ){

	                           totp = totp +  parseFloat( eval('document.getElementById("err' + pval + '").value'))  *   parseInt(  empval );
                            }

	//	res = res + "<td>" + Math.round(totp)  + " </td>";
//=====================================





if(document.getElementById("Spgrossclass").checked == true){
      //res = res + "<h3>Profitability Classes & Gross Receipt Classes</h3>";
	   chosen = 0;
    for(i=1;i<5;i++){
             if(parseInt(gval) >=  parseInt( eval('document.getElementById("bgr1' + i + '").value') ) &&  parseInt(gval) < parseInt( eval('document.getElementById("egr1' + i + '").value') ) ){ chosen = i;

             }

    }
       totp = 0;
	if(chosen != 0 ){
                  if(  eval('document.getElementById("ppgrate'  + pval.toString() + chosen.toString() + '").value' ) != ""  ){
	                  totp =  parseFloat(   eval('document.getElementById("ppgrate'  + pval.toString() + chosen.toString() + '").value' ))   * parseInt(gval);
                 }
}

       	res = res + "<td>" + Math.round(totp)  + " </td>";
		if(document.getElementById("SSpgrossclass").checked == true){ 
	        osum  = osum +   Math.round(totp)  ;
	      } 
        if(k==0){reshead = reshead + "<th> Profitabilty Class/Gross Receipts Class Combo</th>"; }
}



//==============Custom strategy =============
if(osum > 0){
   	res = res + "<td>" + Math.round(osum)  + " </td>";
    if(k==0){reshead = reshead + "<th> Custom Strategy</th>"; }
}







 } // END OF  test for content in string

}

         res = reshead + res; 

	    res = res + "</td><td>";


		res = res + "</td></table>"

		document.getElementById("results").innerHTML = res;

		  showsection(7);

} //================== end run scenarios























var numfirms = 0;

function rows() {

var datagood = false;


if(scene == false){alert("You have not yet chosen a scenario"); return;}
if(step1 == false){alert("You have not yet completed Setup Step 1: Loading rates and classes");return;}
step2 = true; 


 
var lines;
var glines;
var plines;

if(empmod == true){

	var TA=document.form1.textarea1.value;
	if(document.all) { // IE
	lines=TA.split("\r\n");
	}
	else { //Mozilla
	lines=TA.split("\n");
	}
	// clean the data 
for(var k=0; k<lines.length; k++) {
  if(lines[k] == "") lines.splice(k, 10000);
}
}

if(grossmod == true){
		var gTA=document.form1.textarea2.value;
		if(document.all) { // IE
		glines=gTA.split("\r\n");
		}
		else { //Mozilla
		glines=gTA.split("\n");
		}

	for(var k=0; k<glines.length; k++) {
	  if(glines[k] == "") glines.splice(k, 10000);
	}

}


if(profitmod == true){
	var pTA=document.form1.textarea3.value;
	if(document.all) { // IE
	plines=pTA.split("\r\n");
	}
	else { //Mozilla
	plines=pTA.split("\n");
	}
	for(var k=0; k<plines.length; k++) {
	  if(plines[k] == "") plines.splice(k, 10000);
	}
}

 



if(empmod == true  && grossmod == true  && profitmod == true  ){if(lines.length == glines.length  && glines.length == plines.length)datagood = true;} 
if(empmod == true  && grossmod == true && profitmod == false    ){if(lines.length == glines.length  )datagood = true; plines = lines;} 
if(empmod == true  && profitmod == true   && grossmod == false ){if(lines.length == plines.length)datagood = true; glines = lines; } 
if(grossmod == true  && profitmod == true && empmod == false ){if(glines.length == plines.length)datagood = true; lines = glines; } 
if(empmod == true  && grossmod == false  && profitmod == false  ){datagood = true;   glines = lines; plines = lines;} 
if(empmod == false  && grossmod == true  && profitmod == false  ){datagood = true;  plines = glines; lines = glines;   } 
if(empmod == false  && grossmod == false  && profitmod == true  ){datagood = true;  lines = plines; glines = plines; } 


if(datagood == false){alert("The number of rows in the data input areas is not equal.  Please be sure that you have equivalent number of rows in each.  If you are not using a set of data (e.g., employee), simply copy the data from another area and paste into the unused area."); return}




        var totemp = 0;
        var totrec = 0;
// employee count
          var c1 = 0;
          var c2 = 0;
          var c3 = 0;
          var c4 = 0;
          var c5 = 0;
          var c6 = 0;
          var c7 = 0;
          var c8 = 0;
          var c9 = 0;
          var c10 = 0;
// employee firms
		    var ef1 = 0;
			var ef2 = 0;
			var ef3 = 0;
			var ef4 = 0;
			var ef5 = 0;
			var ef6 = 0;
			var ef7 = 0;
			var ef8 = 0;
			var ef9 = 0;
            var ef10 = 0;
// employee receipts
		    var egr1 = 0;
			var egr2 = 0;
			var egr3 = 0;
			var egr4 = 0;
			var egr5 = 0;
			var egr6 = 0;
			var egr7 = 0;
			var egr8 = 0;
			var egr9 = 0;
            var egr10 = 0;


//receipts  firms
		     var gf1 = 0;
			var gf2 = 0;
			var gf3 = 0;
			var gf4 = 0;
			var gf5 = 0;
			var gf6 = 0;
			var gf7 = 0;
			var gf8 = 0;
			var gf9 = 0;
            var gf10 = 0;

//receipts  employees
		     var gemp1 = 0;
			var gemp2 = 0;
			var gemp3 = 0;
			var gemp4 = 0;
			var gemp5 = 0;
			var gemp6 = 0;
			var gemp7 = 0;
			var gemp8 = 0;
			var gemp9 = 0;
            var gemp10 = 0;






            var p1 = 0;
			var p2 = 0;
			var p3 = 0;
			var p4 = 0;
			var p5 = 0;
			var p6 = 0;
			var p7 = 0;
			var p8 = 0;
			var p9 = 0;
            var p10 = 0;


             var pr1 = 0;
   			var pr2 = 0;
   			var pr3 = 0;
   			var pr4 = 0;
   			var pr5 = 0;
   			var pr6 = 0;
   			var pr7 = 0;
   			var pr8 = 0;
   			var pr9 = 0;
           var pr10 = 0;

               var gr1 = 0;
	   			var gr2 = 0;
	   			var gr3 = 0;
	   			var gr4 = 0;
	   			var gr5 = 0;
	   			var gr6 = 0;
	   			var gr7 = 0;
	   			var gr8 = 0;
	   			var gr9 = 0;
              var gr10 = 0;

               var pgr11 = 0;
                var pgr12 = 0;
                 var pgr13 = 0;
                  var pgr14 = 0;

	   			var pgr21 = 0;
	   			var pgr22 = 0;
	   			var pgr23= 0;
	   			var pgr24 = 0;

	   			var pgr31 = 0;
	   			var pgr32 = 0;
	   			var pgr33 = 0;
	   			var pgr34 = 0;

	   			var pgr41 = 0;
	   			var pgr42 = 0;
	   			var pgr43 = 0;
	   			var pgr44 = 0;

	   			var pgr51 = 0;
	   			var pgr52 = 0;
	   			var pgr53 = 0;
	   			var pgr54 = 0;

	   			var pgr61 = 0;
	   			var pgr62 = 0;
	   			var pgr63 = 0;
	   			var pgr64 = 0;


numfirms = lines.length;
document.getElementById("nfirms").value = numfirms;
// begin big loop 
for(var k=0; k<lines.length; k++) {
  var valAr = lines[k].split(",");
  var empval = lines[k];
  var gval = glines[k];
  var pval = plines[k];
   if(empval == "")empval = 0;
    if(pval == "")pval = 0;
    if(gval == "")gval = 0;
	
	
	
	try{
		  gval = gval.replace("$","");
		  
		   gval = gval.replace(/,/gi,"");

		 }
	catch(err) {
	 
	}
	
          
		  
		  //==========Employment Range ===============

	   
	   
          for(i=1;i<11;i++){

            var chosen = 0;
             if(parseInt(empval) >=  parseInt( eval('document.getElementById("br' + i + '").value') ) &&  parseInt(empval) < parseInt( eval('document.getElementById("er' + i + '").value') )  && parseInt(empval) > 0 ){ chosen = i;
            // alert(eval('document.getElementById("br' + i + '").value')   + '  -  ' +  eval('document.getElementById("er' + i + '").value') );

             }



          if(chosen==1){
		   egr1 = egr1 +  parseInt(gval);
		   ef1 = ef1 + 1;
		   c1 = c1 + parseInt(empval);
		   }

          if(chosen==2){
		   egr2 = egr2 +  parseInt(gval);
		  ef2 = ef2 + 1
		  c2 = c2 + parseInt(empval);
		   }

          if(chosen==3){
		   egr3 = egr3 +  parseInt(gval);
		  ef3 = ef3 + 1;
		   c3 = c3 + parseInt(empval);
		   }

          if(chosen==4){
		   egr4 = egr4 +  parseInt(gval);
		  ef4 = ef4 + 1;
		   c4 = c4 + parseInt(empval);
		   }

          if(chosen==5){
		   egr5 = egr5 +  parseInt(gval);
		  ef5 = ef5 + 1;
		   c5 = c5 + parseInt(empval);
		   }


          if(chosen==6){
		   egr6 = egr6 +  parseInt(gval);
		  ef6 = ef6 + 1;
		   c6 = c6 + parseInt(empval);
		   }


          if(chosen==7){
		   egr7 = egr7 +  parseInt(gval);
		  ef7 = ef7 + 1;
		  c7 = c7 + parseInt(empval);
		   }


          if(chosen==8){
		   egr8 = egr8 +  parseInt(gval);
		  ef8 = ef8 + 1;
		  c8 = c8 + parseInt(empval);
		   }


          if(chosen==9){
		   egr9 = egr9 +  parseInt(gval);
		  ef9 = ef9 + 1;
		   c9 = c9 + parseInt(empval);
		   }


          if(chosen==10){
		   egr10 = egr10 +  parseInt(gval);
		  ef10 = ef10 + 1;
		  c10 = c10 + parseInt(empval);
		   }




}


         //==========Profitability Range ===============

		            if(parseInt(pval)==1){
		  		   p1 = p1 + 1 ;
		  		   pr1 = pr1 + parseInt(gval);
		  		   }

		            if(parseInt(pval)==2){
		  		 		   p2 = p2 + 1 ;
		  		 		    pr2 = pr2 + parseInt(gval);
		  		   }

		            if(parseInt(pval)==3){
		  		   p3 = p3 + 1 ;
		  		    pr3 = pr3 + parseInt(gval);
		  		   }

		            if(parseInt(pval)==4){
		  		   p4 = p4 + 1 ;
		  		    pr4 = pr4 + parseInt(gval);
		  		   }

		            if(parseInt(pval)==5){
		  		   p5 = p5 + 1 ;
		  		    pr5 = pr5 + parseInt(gval);
		  		   }


		            if(parseInt(pval)==6){
		  		   p6 = p6 + 1 ;
		  		    pr6 = pr6 + parseInt(gval);
		  		   }


		            if(parseInt(pval)==7){
		  		  p7 = p7 + 1 ;
		  		    pr7 = pr7 + parseInt(gval);
		  		   }


		            if(parseInt(pval)==8){
		  		  p8 = p8 + 1 ;
		  		    pr8 = pr8 + parseInt(gval);
		  		   }


		            if(parseInt(pval)==9){
		  		   p9 = p9 + 1 ;
		  		    pr9 = pr9 + parseInt(gval);
		  		   }


		            if(parseInt(pval)==10){
		  		     p10 = p10 + 1 ;
		  		     pr10 = pr10 + parseInt(gval);
		  		   }







              // ===========Gross receipts range ==========


    for(i=1;i<11;i++){

            var chosen = 0;
             if(parseInt(gval) >=  parseInt( eval('document.getElementById("bbr' + i + '").value') ) &&  parseInt(gval) < parseInt( eval('document.getElementById("eer' + i + '").value') ) ){ chosen = i;
            // alert(eval('document.getElementById("br' + i + '").value')   + '  -  ' +  eval('document.getElementById("er' + i + '").value') );

             }



          if(chosen==1){
		    gemp1 =gemp1 + parseInt(empval);
		   gf1 = gf1 + 1;
		    gr1 =gr1 + parseInt(gval);
		   }

          if(chosen==2){
		     gemp2 =gemp2 + parseInt(empval);
		  gf2 = gf2 + 1;
		 		  gr2 =gr2 + parseInt(gval);
		   }

          if(chosen==3){
		     gemp3 =gemp3 + parseInt(empval);
		  gf3 = gf3 + 1;
		  gr3 =gr3 + parseInt(gval);
		   }

          if(chosen==4){
		     gemp4 =gemp4 + parseInt(empval);
		  gf4 = gf5 + 1;
		  gr4 =gr4 + parseInt(gval);
		   }

          if(chosen==5){
		     gemp5 =gemp5 + parseInt(empval);
		  gf5 = gf5 + 1;
		  gr5 =gr5 + parseInt(gval);
		   }


          if(chosen==6){
		     gemp6 =gemp6 + parseInt(empval);
		  gf6 = gf6 + 1;
		  gr6 =gr6 + parseInt(gval);
		   }


          if(chosen==7){
		     gemp7 =gemp7 + parseInt(empval);
		  gf7 = gf7 + 1;

		 gr7 =gr7 + parseInt(gval);
		   }


          if(chosen==8){
		     gemp8 =gemp8 + parseInt(empval);
		    gf8 = gf8 + 1;

		 gr8 =gr8 + parseInt(gval);
		   }


          if(chosen==9){
		     gemp9 =gemp9 + parseInt(empval);
		    gf9 = gf9 + 1;

		  gr9 =gr9 + parseInt(gval);
		   }


          if(chosen==10){
		  gemp10 =gemp10 + parseInt(empval);
		  gf10 = gf10 + 1;
		 gr10 =gr10 + parseInt(gval);
		   }




    }



               // ==========Profitability Plus Gross receipts range ==========




	      for(i=1;i<7;i++){
	            for(j=1;j<5;j++){


	               var chosen = 0;
	               if(parseInt(gval) >=  parseInt( eval('document.getElementById("bgr' + i.toString() + j.toString() + '").value') ) &&  parseInt(gval) < parseInt( eval('document.getElementById("egr' + i.toString() + j.toString() +  '").value') ) ){ chosen =  pval.toString() + j.toString()  ;
	              // alert(eval('document.getElementById("br' + i + '").value')   + '  -  ' +  eval('document.getElementById("er' + i + '").value') );

	               }



	            if(chosen==11){
	  		    pgr11 = pgr11 + parseInt(gval);
	  		   }

	            if(chosen==12){
	  		 		 pgr12 = pgr12 + parseInt(gval);
	  		   }

	            if(chosen==13){
	  		     pgr13 = pgr13 + parseInt(gval);
	  		   }

	            if(chosen==14){
	  		     pgr14 = pgr14 + parseInt(gval);
	  		   }





	            if(chosen==21){
	  		    pgr21 = pgr21 + parseInt(gval);
	  		   }

	            if(chosen==22){
	  		 		 pgr22 = pgr22 + parseInt(gval);
	  		   }

	            if(chosen==23){
	  		     pgr23 = pgr23 + parseInt(gval);
	  		   }

	            if(chosen==24){
	  		     pgr24 = pgr24 + parseInt(gval);
	  		   }




	            if(chosen==31){
	  		    pgr31 = pgr31 + parseInt(gval);
	  		   }

	            if(chosen==32){
	  		 		 pgr32 = pgr32 + parseInt(gval);
	  		   }

	            if(chosen==33){
	  		     pgr33 = pgr33 + parseInt(gval);
	  		   }

	            if(chosen==34){
	  		     pgr34 = pgr34 + parseInt(gval);
	  		   }





	            if(chosen==41){
	  		    pgr41 = pgr41 + parseInt(gval);
	  		   }

	            if(chosen==42){
	  		 		 pgr42 = pgr42 + parseInt(gval);
	  		   }

	            if(chosen==43){
	  		     pgr43 = pgr43 + parseInt(gval);
	  		   }

	            if(chosen==44){
	  		     pgr44 = pgr44 + parseInt(gval);
	  		   }





	            if(chosen==51){
	  		    pgr51 = pgr51 + parseInt(gval);
	  		   }

	            if(chosen==52){
	  		 		 pgr52 = pgr52 + parseInt(gval);
	  		   }

	            if(chosen==53){
	  		     pgr53 = pgr53 + parseInt(gval);
	  		   }

	            if(chosen==54){
	  		     pgr54 = pgr54 + parseInt(gval);
	  		   }



	            if(chosen==61){
	  		    pgr61 = pgr61 + parseInt(gval);
	  		   }

	            if(chosen==62){
	  		 		 pgr62 = pgr62 + parseInt(gval);
	  		   }

	            if(chosen==63){
	  		     pgr63 = pgr63 + parseInt(gval);
	  		   }

	            if(chosen==64){
	  		     pgr64 = pgr64 + parseInt(gval);
	  		   }








            } // end j



	      }  //end i







}  // end of big loop 




document.getElementById("enum1").value = c1;
document.getElementById("enum2").value = c2;
document.getElementById("enum3").value = c3;
document.getElementById("enum4").value = c4;
document.getElementById("enum5").value = c5;
document.getElementById("enum6").value = c6;
document.getElementById("enum7").value = c7;
document.getElementById("enum8").value = c8;
document.getElementById("enum9").value = c9;
document.getElementById("enum10").value = c10;

document.getElementById("noemployees").value =   c1 + c2 + c3 + c4 + c5 + c6 + c7  + c8  + c9 + c10 ;



document.getElementById("fenum1").value = ef1;
document.getElementById("fenum2").value = ef2;
document.getElementById("fenum3").value = ef3;
document.getElementById("fenum4").value = ef4;
document.getElementById("fenum5").value = ef5;
document.getElementById("fenum6").value = ef6;
document.getElementById("fenum7").value = ef7;
document.getElementById("fenum8").value = ef8;
document.getElementById("fenum9").value = ef9;
document.getElementById("fenum10").value = ef10;

document.getElementById("denum1").value = egr1;
document.getElementById("denum2").value = egr2;
document.getElementById("denum3").value = egr3;
document.getElementById("denum4").value = egr4;
document.getElementById("denum5").value = egr5;
document.getElementById("denum6").value = egr6;
document.getElementById("denum7").value = egr7;
document.getElementById("denum8").value = egr8;
document.getElementById("denum9").value = egr9;
document.getElementById("denum10").value = egr10;




document.getElementById("pnum1").value = p1;
document.getElementById("pnum2").value = p2;
document.getElementById("pnum3").value = p3;
document.getElementById("pnum4").value = p4;
document.getElementById("pnum5").value = p5;
document.getElementById("pnum6").value = p6;
document.getElementById("pnum7").value = p7;
document.getElementById("pnum8").value = p8;
document.getElementById("pnum9").value = p9;
document.getElementById("pnum10").value = p10;


document.getElementById("penum1").value = c1;
document.getElementById("penum2").value = c2;
document.getElementById("penum3").value = c3;
document.getElementById("penum4").value = c4;
document.getElementById("penum5").value = c5;
document.getElementById("penum6").value = c6;
document.getElementById("penum7").value = c7;
document.getElementById("penum8").value = c8;
document.getElementById("penum9").value = c9;
document.getElementById("penum10").value = c10;



document.getElementById("pgnum1").value = pr1;
document.getElementById("pgnum2").value = pr2;
document.getElementById("pgnum3").value = pr3;
document.getElementById("pgnum4").value = pr4;
document.getElementById("pgnum5").value = pr5;
document.getElementById("pgnum6").value = pr6;
document.getElementById("pgnum7").value = pr7;
document.getElementById("pgnum8").value = pr8;
document.getElementById("pgnum9").value = pr9;
document.getElementById("pgnum10").value = pr10;



document.getElementById("epgnum1").value = pr1;
document.getElementById("epgnum2").value = pr2;
document.getElementById("epgnum3").value = pr3;
document.getElementById("epgnum4").value = pr4;
document.getElementById("epgnum5").value = pr5;
document.getElementById("epgnum6").value = pr6;
document.getElementById("epgnum7").value = pr7;
document.getElementById("epgnum8").value = pr8;
document.getElementById("epgnum9").value = pr9;
document.getElementById("epgnum10").value = pr10;



document.getElementById("ern1").value = c1;
document.getElementById("ern2").value = c2;
document.getElementById("ern3").value = c3;
document.getElementById("ern4").value = c4;
document.getElementById("ern5").value = c5;
document.getElementById("ern6").value = c6;
document.getElementById("ern7").value = c7;
document.getElementById("ern8").value = c8;
document.getElementById("ern9").value = c9;
document.getElementById("ern10").value = c10;




document.getElementById("feenum1").value = gf1;
document.getElementById("feenum2").value = gf2;
document.getElementById("feenum3").value = gf3;
document.getElementById("feenum4").value = gf4;
document.getElementById("feenum5").value = gf5;
document.getElementById("feenum6").value = gf6;
document.getElementById("feenum7").value = gf7;
document.getElementById("feenum8").value = gf8;
document.getElementById("feenum9").value = gf9;
document.getElementById("feenum10").value = gf10;


document.getElementById("deenum1").value = gemp1;
document.getElementById("deenum2").value = gemp2;
document.getElementById("deenum3").value = gemp3;
document.getElementById("deenum4").value = gemp4;
document.getElementById("deenum5").value = gemp5;
document.getElementById("deenum6").value = gemp6;
document.getElementById("deenum7").value = gemp7;
document.getElementById("deenum8").value = gemp8;
document.getElementById("deenum9").value = gemp9;
document.getElementById("deenum10").value = gemp10;



document.getElementById("eenum1").value = gr1;
document.getElementById("eenum2").value = gr2;
document.getElementById("eenum3").value = gr3;
document.getElementById("eenum4").value = gr4;
document.getElementById("eenum5").value = gr5;
document.getElementById("eenum6").value = gr6;
document.getElementById("eenum7").value = gr7;
document.getElementById("eenum8").value = gr8;
document.getElementById("eenum9").value = gr9;
document.getElementById("eenum10").value = gr10;


document.getElementById("grossreceipts").value = gr1 + gr2 + gr3 + gr4 + gr5 + gr6 + gr7  + gr8  + gr9 + gr10 ;



document.getElementById("ppgnum11").value = pgr11;
document.getElementById("ppgnum12").value = pgr12;
document.getElementById("ppgnum13").value = pgr13;
document.getElementById("ppgnum14").value = pgr14;


document.getElementById("ppgnum21").value = pgr21;
document.getElementById("ppgnum22").value = pgr22;
document.getElementById("ppgnum23").value = pgr23;
document.getElementById("ppgnum24").value = pgr24;


document.getElementById("ppgnum31").value = pgr31;
document.getElementById("ppgnum32").value = pgr32;
document.getElementById("ppgnum33").value = pgr33;
document.getElementById("ppgnum34").value = pgr34;


document.getElementById("ppgnum41").value = pgr41;
document.getElementById("ppgnum42").value = pgr42;
document.getElementById("ppgnum43").value = pgr43;
document.getElementById("ppgnum44").value = pgr44;


document.getElementById("ppgnum51").value = pgr51;
document.getElementById("ppgnum52").value = pgr52;
document.getElementById("ppgnum53").value = pgr53;
document.getElementById("ppgnum54").value = pgr54;


document.getElementById("ppgnum61").value = pgr61;
document.getElementById("ppgnum62").value = pgr62;
document.getElementById("ppgnum63").value = pgr63;
document.getElementById("ppgnum64").value = pgr64;






}

var thisdata = "";
var thecategories = "";
var thetitle = ""


//===============================CALCULATE  SUMMARY==============================
//===============================CALCULATE==============================
//===============================CALCULATE==============================
//===============================CALCULATE==============================
//===============================CALCULATE==============================



function runx(){

if(scene == false){alert("You have not yet chosen a scenario"); return;}
if(step1 == false){alert("You have not yet completed Setup Step 1: Loading rates and classes");return;}
if(step2 == false){alert("You have not yet completed Step 2: Loading Data");return;}


        var osum = 0; 

        thisdata = "";
        thetitle = "Occupational Tax Revenue Scenarios"
		var res = "<table id='hor-minimalist-a'  width=1200px><th>Report</th><tr><td>";

var adminfee =  document.getElementById("admindd").options[document.getElementById("admindd").selectedIndex].text;
var mintax =  document.getElementById("mintaxdd").options[document.getElementById("mintaxdd").selectedIndex].text;
numfirms = document.getElementById("nfirms").value;



if(document.getElementById("Sadmin").checked == true){
		res = res + "<h3>Administrative Fee Revenue</h3>";
		thecategories = thecategories + "'Administrative Fee'" + ","
		res = res + "<li>Amount: $" + (numfirms * parseInt(adminfee)) + " </li>";

		//thisdata = thisdata + "{ y: " +  (numfirms * parseInt(adminfee)) + "},";
		thisdata = thisdata + " " +  (numfirms * parseInt(adminfee)) + ",";
		if(document.getElementById("SSadmin").checked == true){
		  osum = osum + (numfirms * parseInt(adminfee));
		}
	
		

			res = res + "<h3>Minimum Tax Revenue</h3>";
		res = res + "<li>Amount: $" + (numfirms * parseInt(mintax)) + " </li>";
        thecategories = thecategories + "'Minimum Tax'" + ","
        	thisdata = thisdata  +  " " + (numfirms * parseInt(mintax)) + ",";
}	

if(document.getElementById("Sflat").checked == true){ 
			res = res + "<h3>Simple Flat Fee per Firm</h3>";

		  var num = new Number(parseInt( parseInt(document.getElementById("nfirms").value) * parseFloat(document.getElementById("frate").value)  ));

		 res = res + "<li>Amount: $"  + Math.round(num)  +  " </li>";
		    thecategories = thecategories + "'Flat Fee per Firm'" + ",";
         thisdata = thisdata + Math.round(num)  + ",";
		 if(document.getElementById("SSflat").checked == true){
		    osum = osum +  Math.round(num) ;
		}

}


if(document.getElementById("Semp").checked == true){ 

		res = res + "<h3>Flat Fee per Employee </h3>";

		var num2 = new Number((parseInt(document.getElementById("noemployees").value) * parseInt(document.getElementById("nerate").value )));

		res = res + "<li>Amount: $"  + Math.round(num2)  +  " </li>";
		 thecategories = thecategories + "'Flat Fee per Employee'" + ",";
		if(document.getElementById("SSemp").checked == true){
		    osum = osum +  Math.round(num2) ;
		}
		 
       thisdata = thisdata + Math.round(num2)   + ",";

}

if(document.getElementById("Sempfirm").checked == true){ 
	 		res = res + "<h3>Employee Range with Flat Fee for Firms in Range</h3>";

     totp = 0;

	for(i=1;i<11;i++){
               	if(eval('document.getElementById("ferate' + i + '").value') != "" &&   eval('document.getElementById("fenum' + i + '").value') != "" ){
	             totp = totp +  parseFloat( eval('document.getElementById("ferate' + i + '").value'))  *   parseInt(  eval('document.getElementById("fenum' + i + '").value') );
                }
		}
		res = res + "<li>Amount: $" + Math.round(totp)  + " </li>";
		if(document.getElementById("SSempfirm").checked == true){
		    osum = osum +  Math.round(totp)  ;
		}		
			 thecategories = thecategories + "'Employee Range with Fee for Firms'" + ","
      thisdata = thisdata +  Math.round(totp)   + ",";

}



if(document.getElementById("SempRange").checked == true){

		res = res + "<h3>Employee Range with Different Fees per Employee for Firms in Range </h3>";

     totp = 0;

	for(i=1;i<11;i++){
               	if(eval('document.getElementById("erate' + i + '").value') != "" &&   eval('document.getElementById("enum' + i + '").value') != "" ){
	             totp = totp +  parseFloat( eval('document.getElementById("erate' + i + '").value'))  *   parseInt(  eval('document.getElementById("enum' + i + '").value') );
                }
		}
		res = res + "<li>Amount: $" + Math.round(totp)  + " </li>";
	 if(document.getElementById("SSempRange").checked == true){
		    osum = osum +  Math.round(totp)  ;
		}	
		 thecategories = thecategories + "'Employee Range with Various Fees per Employee'" + ","
      thisdata = thisdata +  Math.round(totp)   + ",";

}


if(document.getElementById("Sempgross").checked == true){ 
		res = res + "<h3>Employee Range with Different GR Rates for Firms in Range </h3>";

     totp = 0;

	for(i=1;i<11;i++){
               	if(eval('document.getElementById("derate' + i + '").value') != "" &&   eval('document.getElementById("denum' + i + '").value') != "" ){
	             totp = totp +  parseFloat( eval('document.getElementById("derate' + i + '").value'))  *   parseInt(  eval('document.getElementById("denum' + i + '").value') );
                }
		}
		res = res + "<li>Amount: $" + Math.round(totp)  + " </li>";
		 if(document.getElementById("SSempgross").checked == true){
		    osum = osum +  Math.round(totp)  ;
		}	
		 thecategories = thecategories + "'Employee Range with Various GR Rates'" + ","
      thisdata = thisdata +  Math.round(totp)   + ",";

}



if(document.getElementById("Sgross").checked == true){ 

		res = res + "<h3>One Gross Receipt Rate for all Firms </h3>";

		var num = new Number(parseInt( parseInt(document.getElementById("grossreceipts").value) * parseFloat(document.getElementById("grrate").value)  ));

		res = res + "<li>Amount: $"  + Math.round(num)  +  " </li>";
		 if(document.getElementById("SSgross").checked == true){
		    osum = osum +  Math.round(num) ;
		}	
		 thecategories = thecategories + "'One Gross Receipt Rate for all Firms'" + ","
         thisdata = thisdata + Math.round(num)  + ",";

}

if(document.getElementById("Sgrossfirm").checked == true){
	  res = res + "<h3>Gross Receipt Classes with Various Flat Fees for Firms in Class</h3>";

        totp = 0;

	for(i=1;i<11;i++){
                 	if(eval('document.getElementById("feerate' + i + '").value') != "" &&   eval('document.getElementById("feenum' + i + '").value') != "" ){
	                 totp = totp +  parseFloat( eval('document.getElementById("feerate' + i + '").value'))  *   parseInt(  eval('document.getElementById("feenum' + i + '").value') );
                   }
		}
		res = res + "<li>Amount: $" + Math.round(totp)  + " </li>";
	 if(document.getElementById("SSgrossfirm").checked == true){
		    osum = osum +  Math.round(totp) ;
		}	
		
		 thecategories = thecategories + "'Gross Receipt Classes with Various Firm Fees'" + ","
        thisdata = thisdata +  Math.round(totp)   + ",";

}



if(document.getElementById("Sgrossrate").checked == true){
		res = res + "<h3>Gross Receipt Classes with Various Tax Rates on Gross Receipts for Firms in Class </h3>";

        totp = 0;

	for(i=1;i<11;i++){
                 	if(eval('document.getElementById("eerate' + i + '").value') != "" &&   eval('document.getElementById("eenum' + i + '").value') != "" ){
	                 totp = totp +  parseFloat( eval('document.getElementById("eerate' + i + '").value'))  *   parseInt(  eval('document.getElementById("eenum' + i + '").value') );
                   }
		}
		res = res + "<li>Amount: $" + Math.round(totp)  + " </li>";
		 if(document.getElementById("SSgrossrate").checked == true){
		    osum = osum +  Math.round(totp) ;
		}
		
		 thecategories = thecategories + "'Gross Receipt Classes with Various GR Rates'" + ","
        thisdata = thisdata +  Math.round(totp)   + ",";

}



if(document.getElementById("Sgrossrateemp").checked == true){ 
			res = res + "<h3>Gross Receipt Classes with Various Per Employee Fees for Firms in Class </h3>";

        totp = 0;

	for(i=1;i<11;i++){
                 	if(eval('document.getElementById("deerate' + i + '").value') != "" &&   eval('document.getElementById("deenum' + i + '").value') != "" ){
	                 totp = totp +  parseFloat( eval('document.getElementById("deerate' + i + '").value'))  *   parseInt(  eval('document.getElementById("deenum' + i + '").value') );
                   }
		}
		res = res + "<li>Amount: $" + Math.round(totp)  + " </li>";
		 if(document.getElementById("SSgrossrateemp").checked == true){
		    osum = osum +  Math.round(totp) ;
		}		
		 thecategories = thecategories + "'Gross Receipt Classes with Various Per Empl. Fees'" + ","
        thisdata = thisdata +  Math.round(totp)   + ",";
}





if(document.getElementById("Spfirm").checked == true){
			res = res + "<h3>Profitability Classes with Flat Fee for Firms in Class</h3>";

		var totp = 0;


		for(i=1;i<11;i++){

	        	if(eval('document.getElementById("prate' + i + '").value') != "" &&   eval('document.getElementById("pnum' + i + '").value') != "" ){


	                totp = totp +  parseFloat( eval('document.getElementById("prate' + i + '").value'))  *   parseInt(  eval('document.getElementById("pnum' + i + '").value') );
             }

		}
		res = res + "<li>Amount: $" + Math.round(totp)  + " </li>";
		 if(document.getElementById("SSpfirm").checked == true){
		    osum = osum +  Math.round(totp) ;
		}		
		 thecategories = thecategories + "'Profitability Classes with Various Firm Fees'" + ","
        thisdata = thisdata +  Math.round(totp)   + "," ;

}


if(document.getElementById("Spemp").checked == true){ 
		res = res + "<h3>Profitability Class with Various Rate for No. of Employees in Firm</h3>";


      totp = 0;

	for(i=1;i<11;i++){
                  	if(eval('document.getElementById("perate' + i + '").value') != "" &&   eval('document.getElementById("penum' + i + '").value') != "" ){
	                           totp = totp +  parseFloat( eval('document.getElementById("perate' + i + '").value'))  *   parseInt(  eval('document.getElementById("penum' + i + '").value') );
                 }
		}
		res = res + "<li>Amount: $" + Math.round(totp)  + " </li>";
		 if(document.getElementById("SSpemp").checked == true){
		    osum = osum +  Math.round(totp) ;
		}		
		 thecategories = thecategories + "'Profitability Classes with Various Employee ees'" + ","
        thisdata = thisdata +  Math.round(totp)   + ","
}


if(document.getElementById("Spgross").checked == true){ 
		res = res + "<h3>Profitability Class with Various Tax Rates on Gross Receipts for Frims in Class</h3>";

   totp = 0;

	for(i=1;i<11;i++){
             	if(eval('document.getElementById("pgrate' + i + '").value') != "" &&   eval('document.getElementById("pgnum' + i + '").value') != "" ){
	                   totp = totp +  parseFloat( eval('document.getElementById("pgrate' + i + '").value'))  *   parseInt(  eval('document.getElementById("pgnum' + i + '").value') );
              }
		}
		res = res + "<li>Amount: $" + Math.round(totp) + " </li>";
		if(document.getElementById("SSpgross").checked == true){
		    osum = osum +  Math.round(totp) ;
		}	
		 thecategories = thecategories + "'Profitability Classes with Various GR Rates'" + ","
          thisdata = thisdata +  Math.round(totp)   + ",";

}



if(document.getElementById("Spgrossclass").checked == true){ 
		res = res + "<h3>Profitability Class with Various Tax Rates on Gross Receipts for Frims in Profitabilty Class/Gross Receipts Class Combo </h3>";



       totp = 0;
       for(i=1;i<7;i++){
	        for(j=1;j<5;j++){

                  if(  eval('document.getElementById("ppgrate'  + i.toString() + j.toString() + '").value' ) != ""  &&  eval('document.getElementById("ppgnum'  + i.toString() + j.toString() + '").value' ) != ""){
	             totp = totp +  parseFloat(   eval('document.getElementById("ppgrate'  + i.toString() + j.toString() + '").value' ))   * parseInt(   eval('document.getElementById("ppgnum'  + i.toString() + j.toString() + '").value' ));
                 }



	      }

	     }


       	res = res + "<li>Amount: $" + Math.round(totp)  + " </li>";
		if(document.getElementById("SSpgrossclass").checked == true){
		    osum = osum +  Math.round(totp) ;
		}	
		 thecategories = thecategories + "'Profitability/Gross Receipts Classes Combo'" + ","
              thisdata = thisdata +  Math.round(totp)   + ",";

}



//===not doing this scenario anymore as it is a combo of others
if(1 == 2){ 
			  res = res + "<h3>Profitability & Gross Receipts Rate Plus Flat Fee for Employees in Class</h3>";


    totp = 0;

	for(i=1;i<11;i++){
                     	if(eval('document.getElementById("epgrate' + i + '").value') != "" &&   eval('document.getElementById("epgnum' + i + '").value') != "" ){
	                       totp = totp +  parseFloat( eval('document.getElementById("epgrate' + i + '").value'))  *   parseInt(  eval('document.getElementById("epgnum' + i + '").value') );
                         }
						if(eval('document.getElementById("err' + i + '").value') != "" &&   eval('document.getElementById("ern' + i + '").value') != "" ){

	                           totp = totp +  parseFloat( eval('document.getElementById("err' + i + '").value'))  *   parseInt(  eval('document.getElementById("ern' + i + '").value') );
                            }

		}
		res = res + "<li>Amount: $" + Math.round(totp)  + " </li>";
           thisdata = thisdata +  Math.round(totp)   + "";
}
//===================== end not doing =============
     
	 // === if customized summary chosen  
	 
	 if(osum > 0){
	 
	 	res = res + "<h3>Custom Strategy</h3>";
	  	res = res + "<li>Amount: $" + Math.round(osum)  + " </li>";
	     thecategories = thecategories + "'Custom Strategy'" + ","
		thisdata = thisdata +  Math.round(osum)   + "";
	 }

		res = res + "</td><td>";


		res = res + "</td></table>"


thecategories = thecategories.substr(0,thecategories.length-1)




		document.getElementById("results").innerHTML = res;
   dochart();

   showsection(7);
  
   
} //================== end run scenarios













function sampledata(){


if(scene == false){alert("You have not yet chosen a scenario"); return;}
step1 = true; 


var pclasses =  document.getElementById("pclasses").options[document.getElementById("pclasses").selectedIndex].text;
var eclasses =  document.getElementById("pclasses").options[document.getElementById("eclasses").selectedIndex].text;
var rclasses =  document.getElementById("pclasses").options[document.getElementById("rclasses").selectedIndex].text;

var sprate =  document.getElementById("sprate").options[document.getElementById("sprate").selectedIndex].text;
var spfrate =  document.getElementById("spfrate").options[document.getElementById("spfrate").selectedIndex].text;
var sperate =  document.getElementById("sperate").options[document.getElementById("sperate").selectedIndex].text;


var serate =  document.getElementById("serate").options[document.getElementById("serate").selectedIndex].text;
var sferate =  document.getElementById("sferate").options[document.getElementById("sferate").selectedIndex].text;

var srrateemp  =  document.getElementById("srrateemp").options[document.getElementById("srrateemp").selectedIndex].text;
var rincreaseemp =  document.getElementById("rincreaseemp").options[document.getElementById("rincreaseemp").selectedIndex].text;


var srrate =  document.getElementById("srrate").options[document.getElementById("srrate").selectedIndex].text;
var sfrrate =  document.getElementById("sfrrate").options[document.getElementById("sfrrate").selectedIndex].text;

var serategr =  document.getElementById("serategr").options[document.getElementById("serategr").selectedIndex].text;
var eincreasegr =  document.getElementById("eincreasegr").options[document.getElementById("eincreasegr").selectedIndex].text;




var pincrease =  document.getElementById("pincrease").options[document.getElementById("pincrease").selectedIndex].text;
var pfincrease =  document.getElementById("pfincrease").options[document.getElementById("pfincrease").selectedIndex].text;
var peincrease =  document.getElementById("peincrease").options[document.getElementById("peincrease").selectedIndex].text;

var eincrease =  document.getElementById("eincrease").options[document.getElementById("eincrease").selectedIndex].text;
var rincrease =  document.getElementById("rincrease").options[document.getElementById("rincrease").selectedIndex].text;

var feincrease =  document.getElementById("feincrease").options[document.getElementById("feincrease").selectedIndex].text;
var frincrease =  document.getElementById("frincrease").options[document.getElementById("frincrease").selectedIndex].text;

var erange =  document.getElementById("erange").options[document.getElementById("erange").selectedIndex].text;
var rrange =  document.getElementById("rrange").options[document.getElementById("rrange").selectedIndex].text;


var frate =  document.getElementById("fratedd").options[document.getElementById("fratedd").selectedIndex].text;


document.getElementById("nerate").value =  serate;
document.getElementById("grrate").value =  srrate;
document.getElementById("frate").value =  frate;




for(i=1;i<11;i++){

  // Employees

  if(i<=eclasses){

     if(i==1){
           eval('document.getElementById("erate' + i + '").value = ' +  serate);
            eval('document.getElementById("br' + i + '").value = ' + 0 );
            eval('document.getElementById("er' + i + '").value = ' + (i * erange) );

			 eval('document.getElementById("ferate' + i + '").value = ' +  sferate);
            eval('document.getElementById("fbr' + i + '").value = ' + 0 );
            eval('document.getElementById("fer' + i + '").value = ' + (i * erange) );


			 eval('document.getElementById("derate' + i + '").value = ' +  srrateemp);
            eval('document.getElementById("dbr' + i + '").value = ' + 0 );
            eval('document.getElementById("der' + i + '").value = ' + (i * erange) );



     }else{

     eval('document.getElementById("erate' + i + '").value = ' +  (serate + (i * eincrease))   );
       eval('document.getElementById("br' + i + '").value = ' + ((i-1) * erange) );
            eval('document.getElementById("er' + i + '").value = ' + (i * erange) );

			 eval('document.getElementById("ferate' + i + '").value = ' +  (sferate + (i * feincrease))   );
           eval('document.getElementById("fbr' + i + '").value = ' + ((i-1) * erange) );
            eval('document.getElementById("fer' + i + '").value = ' + (i * erange) );

				 eval('document.getElementById("derate' + i + '").value = ' +  (srrateemp + (i * rincreaseemp))   );
           eval('document.getElementById("dbr' + i + '").value = ' + ((i-1) * erange) );
            eval('document.getElementById("der' + i + '").value = ' + (i * erange) );


     }

  }else{
    eval('document.getElementById("erate' + i + '").value = ' + 0);
     eval('document.getElementById("br' + i + '").value = ' + 0 );
     eval('document.getElementById("er' + i + '").value = ' + 0 );

	   eval('document.getElementById("ferate' + i + '").value = ' + 0);
     eval('document.getElementById("fbr' + i + '").value = ' + 0 );
     eval('document.getElementById("fer' + i + '").value = ' + 0 );

	 eval('document.getElementById("derate' + i + '").value = ' + 0);
     eval('document.getElementById("dbr' + i + '").value = ' + 0 );
     eval('document.getElementById("der' + i + '").value = ' + 0 );

  }


// Gross Receipts
if(i<=rclasses){

      if(i==1){

            eval('document.getElementById("eerate' + i + '").value = ' + srrate );
             eval('document.getElementById("bbr' + i + '").value = ' + 0 );
             eval('document.getElementById("eer' + i + '").value = ' + (i * rrange) );

			   eval('document.getElementById("feerate' + i + '").value = ' + sfrrate );
             eval('document.getElementById("fbbr' + i + '").value = ' + 0 );
             eval('document.getElementById("feer' + i + '").value = ' + (i * rrange) );

			 		   eval('document.getElementById("deerate' + i + '").value = ' + serategr );
             eval('document.getElementById("dbbr' + i + '").value = ' + 0 );
             eval('document.getElementById("deer' + i + '").value = ' + (i * rrange) );

        }else{


          eval('document.getElementById("eerate' + i + '").value = ' +  (srrate + ((i-1) * rincrease)) );
           eval('document.getElementById("bbr' + i + '").value = ' + ((i-1) * rrange) );
            eval('document.getElementById("eer' + i + '").value = ' + (i * rrange) );

			  eval('document.getElementById("feerate' + i + '").value = ' +  (sfrrate + ((i-1) * frincrease)) );
           eval('document.getElementById("fbbr' + i + '").value = ' + ((i-1) * rrange) );
            eval('document.getElementById("feer' + i + '").value = ' + (i * rrange) );

				  eval('document.getElementById("deerate' + i + '").value = ' +  (serategr + ((i-1) * eincreasegr)) );
           eval('document.getElementById("dbbr' + i + '").value = ' + ((i-1) * rrange) );
            eval('document.getElementById("deer' + i + '").value = ' + (i * rrange) );

      }



   }else{
    eval('document.getElementById("eerate' + i + '").value = ' + 0 );
     eval('document.getElementById("bbr' + i.toString()  + '").value = ' + 0 );
      eval('document.getElementById("eer' + i.toString()  + '").value = ' + 0 );

	    eval('document.getElementById("feerate' + i + '").value = ' + 0 );
     eval('document.getElementById("fbbr' + i.toString()  + '").value = ' + 0 );
      eval('document.getElementById("feer' + i.toString()  + '").value = ' + 0 );

	      eval('document.getElementById("deerate' + i + '").value = ' + 0 );
     eval('document.getElementById("dbbr' + i.toString()  + '").value = ' + 0 );
      eval('document.getElementById("deer' + i.toString()  + '").value = ' + 0 );



   }

 //Profitability


 if(i<=pclasses){

    if(i==1){
      eval('document.getElementById("prate' + i + '").value = ' + spfrate);
       eval('document.getElementById("perate' + i + '").value = ' + sperate);
       eval('document.getElementById("pgrate' + i + '").value = ' + sprate );
          eval('document.getElementById("err' + i + '").value = ' +  sperate );
           eval('document.getElementById("epgrate' + i + '").value = ' + sprate );

      }else{

          eval('document.getElementById("prate' + i + '").value = ' +  (parseInt(spfrate) + parseInt(((i-1) * parseInt(pfincrease)))  )   );
          eval('document.getElementById("perate' + i + '").value = ' + (sperate + ((i-1) * peincrease)));
         eval('document.getElementById("pgrate' + i + '").value = ' + (parseFloat(sprate) + ((i-1) * parseFloat(pincrease))) );
           eval('document.getElementById("err' + i + '").value = ' +  (sperate + ((i-1) * peincrease)) );
              eval('document.getElementById("epgrate' + i + '").value = ' + (parseFloat(sprate) + ((i-1) * parseFloat(pincrease))) );

      }






   }else{

     eval('document.getElementById("prate' + i + '").value = ' + 0);
    eval('document.getElementById("perate' + i + '").value = ' + 0);
    eval('document.getElementById("pgrate' + i + '").value = ' + 0 );
    eval('document.getElementById("epgrate' + i + '").value = ' + 0 );
    eval('document.getElementById("err' + i + '").value = ' +  0  );



   }







}


  eval('document.getElementById("er' + eclasses + '").value = ' + 9999999);
   eval('document.getElementById("eer' + rclasses + '").value = ' + 9999999999);

  eval('document.getElementById("deer' + eclasses + '").value = ' + 9999999);
   eval('document.getElementById("feer' + rclasses + '").value = ' + 9999999999);
     eval('document.getElementById("der' + eclasses + '").value = ' + 9999999);
   eval('document.getElementById("fer' + rclasses + '").value = ' + 9999999999);

//document.getElementById("er10").value =  9999999;
//document.getElementById("eer10").value =  999999999;



for(i=1;i<7;i++){
     for(j=1;j<5;j++){

        if(i==1){


              if(j==1){

                  eval('document.getElementById("ppgrate'  + i.toString() + j.toString() + '").value = '  + sprate );
                  eval('document.getElementById("bgr' + i.toString() + j.toString() + '").value = ' + 0 );
               }else{
                     eval('document.getElementById("ppgrate' + i.toString() + j.toString() + '").value = ' +   (parseFloat(sprate) + ((j-1) * parseFloat(pincrease))) );
                   eval('document.getElementById("bgr' + i.toString() + j.toString() + '").value = ' + ((j -1) * rrange) );
               }

              eval('document.getElementById("egr' + i.toString() + j.toString() + '").value = ' + (j * rrange) );

        }else{



             if(j==1){

                  eval('document.getElementById("ppgrate'  + i.toString() + j.toString() + '").value = '  + sprate );
                  }else{

                  eval('document.getElementById("ppgrate' + i.toString() + j.toString() + '").value = ' +   (parseFloat(sprate) + ((j-1) * parseFloat(pincrease))) );

               }

                  eval('document.getElementById("bgr' + i.toString() + j.toString() + '").value = ' + ((j -1) * rrange) );
                  eval('document.getElementById("egr' + i.toString() + j.toString() + '").value = ' + (j * rrange) );


        }

        //  eval('document.getElementById("bgr' + i.toString() + j.toString() + '").value = ' + ((j -1) * 30000) );
        //  eval('document.getElementById("egr' + i.toString() + j.toString() + '").value = ' + (j * 30000) );

         //   eval('document.getElementById("ppgrate'  + i.toString() + j.toString() + '").value = ' + ((5 - j) *  i *  0.0003) );




   }

  }


  for(i=1;i<7;i++){
       for(j=4;j<5;j++){


            eval('document.getElementById("egr' + i.toString() + j.toString() + '").value = ' +  999999999 );



     }

  }


  
  showsection(3);
  
}












function dochart(){



thecategories = "[" + thecategories + "]";
  // alert(thecategories);
	//alert(thisdata);
	
   var chart;
$(function () {
	var tdata = new Array();
	tdata = thisdata.split(",");
	var t2data = "[";
	   for(i=0;i< tdata.length;i++){
			t2data = t2data + tdata[i] + ","
				  }
	t2data =   t2data.substr(0,t2data.length - 1);
	t2data = t2data + "]";
	
	var t3data = "[" + tdata[0]+ "]";


    $(document).ready(function() {
	


	

        chart = new Highcharts.Chart({
         

		 
            chart: {

                renderTo: 'container',

                type: 'column', 
				width: 800,
				height: 700

            },

            title: {

                text: 'Costs of Sanitation Services' + thetitle

            },

            subtitle: {

                text: ''

            },

            xAxis: {
			
			     categories:   eval(thecategories),

              

                title: {

                    text: null

                }

            },

            yAxis: {

                min: 0,

                title: {

                    text: ' Costs (Dollars) ',

                    align: 'high'

                },
				labels: {
            formatter: function () {
                return this.value / 1000 + 'k';
            }}

            },

            tooltip: {

               

                   pointFormat:   '${point.y} '

               

            },

            plotOptions: {

                bar: {

                    dataLabels: {

                        enabled: true

                    }

                }

            },

            legend: {
			
			    enabled: false,

                layout: 'vertical',

                align: 'right',

                verticalAlign: 'top',

                x: -100,

                y: 100,

                floating: true,

                borderWidth: 1,

                backgroundColor: '#FFFFFF',

                shadow: true

            },
			
			colors: ['#2f7ed8', '#0d233a', '#8bbc21', '#910000', '#1aadce',
    '#492970', '#f28f43', '#77a1e5', '#c42525', '#0d233a', '#a6c96a'],

            credits: {

                enabled: false

            },

            series: [{
			     colorByPoint: true,
			    name: '',
				


                data: eval(t2data)
			}]

        });

    });

	
});

}



function uncheckall(){
document.getElementById("Sadmin").checked = false;
document.getElementById("Sflat").checked  = false; 
document.getElementById("Semp").checked = false; 
document.getElementById("SempRange").checked  = false; 
document.getElementById("Sempfirm").checked  = false; 
document.getElementById("Sempgross").checked  = false; 
document.getElementById("Sgross").checked = false; 
 document.getElementById("Sgrossfirm").checked = false; 
 document.getElementById("Sgrossrate").checked = false;  
 document.getElementById("Sgrossrateemp").checked = false; 
 document.getElementById("Spfirm").checked = false;  document.getElementById("Spemp").checked  = false;   document.getElementById("Spgross").checked = false; document.getElementById("Spgrossclass").checked  = false; 
}


function checkall(){
document.getElementById("Sadmin").checked = true;
document.getElementById("Sflat").checked  = true; 
document.getElementById("Semp").checked = true; 
document.getElementById("SempRange").checked  = true; 
document.getElementById("Sempfirm").checked  = true; 
document.getElementById("Sempgross").checked  = true; 
document.getElementById("Sgross").checked = true; 
 document.getElementById("Sgrossfirm").checked = true; 
 document.getElementById("Sgrossrate").checked = true;  
 document.getElementById("Sgrossrateemp").checked = true; 
 document.getElementById("Spfirm").checked = true; 
 document.getElementById("Spemp").checked  = true;  
 document.getElementById("Spgross").checked = true; 
 document.getElementById("Spgrossclass").checked  = true; 
}




function uncheckallS(){
document.getElementById("SSadmin").checked = false;
document.getElementById("SSflat").checked  = false; 
document.getElementById("SSemp").checked = false; 
document.getElementById("SSempRange").checked  = false; 
document.getElementById("SSempfirm").checked  = false; 
document.getElementById("SSempgross").checked  = false; 
document.getElementById("SSgross").checked = false; 
 document.getElementById("SSgrossfirm").checked = false; 
 document.getElementById("SSgrossrate").checked = false;  
 document.getElementById("SSgrossrateemp").checked = false; 
 document.getElementById("SSpfirm").checked = false;  document.getElementById("SSpemp").checked  = false;   document.getElementById("SSpgross").checked = false; document.getElementById("SSpgrossclass").checked  = false; 
}


function checkallS(){
document.getElementById("SSadmin").checked = true;
document.getElementById("SSflat").checked  = true; 
document.getElementById("SSemp").checked = true; 
document.getElementById("SSempRange").checked  = true; 
document.getElementById("SSempfirm").checked  = true; 
document.getElementById("SSempgross").checked  = true; 
document.getElementById("SSgross").checked = true; 
 document.getElementById("SSgrossfirm").checked = true; 
 document.getElementById("SSgrossrate").checked = true;  
 document.getElementById("SSgrossrateemp").checked = true; 
 document.getElementById("SSpfirm").checked = true; 
 document.getElementById("SSpemp").checked  = true;  
 document.getElementById("SSpgross").checked = true; 
 document.getElementById("SSpgrossclass").checked  = true; 
}




function show(){

if(document.getElementById("Sadmin").checked == false){  document.getElementById("Dadmindd").style.display = "none"; } else {document.getElementById("Dadmindd").style.display = "block"; }
if(document.getElementById("Sadmin").checked == false){  document.getElementById("Dadmindd").style.display = "none"; } else {document.getElementById("Dadmindd").style.display = "block"; }

if(document.getElementById("Sflat").checked == false){  document.getElementById("Dfratedd").style.display = "none"; } else {document.getElementById("Dfratedd").style.display = "block"; }
if(document.getElementById("Sadmin").checked == false){  document.getElementById("Dadmindd").style.display = "none"; } else {document.getElementById("Dadmindd").style.display = "block"; }


document.getElementById("Diveclasses").style.display = "none";
document.getElementById("Diveflat").style.display = "none";
document.getElementById("Divserate").style.display = "none";
document.getElementById("Divsferate").style.display = "none";


if(document.getElementById("Semp").checked == false  && document.getElementById("SempRange").checked == false   &&  document.getElementById("Sempfirm").checked == false &&  document.getElementById("Sempgross").checked == false  ){}else{
document.getElementById("Diveclasses").style.display = "block";

document.getElementById("Temp").style.display = "block";
}

if(document.getElementById("SempRange").checked == false   &&  document.getElementById("Sempfirm").checked == false &&  document.getElementById("Sempgross").checked == false  )document.getElementById("Diveclasses").style.display = "none";


if(document.getElementById("Semp").checked == false){    document.getElementById("Temp1").style.display = "none"; } else {document.getElementById("Diveflat").style.display = "block";  document.getElementById("Temp1").style.display = "block"; }

if(document.getElementById("SempRange").checked == false){  document.getElementById("Divserate").style.display = "none";
document.getElementById("Temp3").style.display = "none";

} else {document.getElementById("Divserate").style.display = "block"; document.getElementById("Diveflat").style.display = "block"; document.getElementById("Temp3").style.display = "block"; }



if(document.getElementById("Sempfirm").checked == false){  
document.getElementById("Divsferate").style.display = "none";
 document.getElementById("Temp2").style.display = "none";
} else {document.getElementById("Divsferate").style.display = "block";  document.getElementById("Temp2").style.display = "block"; }


if(document.getElementById("Sempgross").checked == false){  document.getElementById("Divsrrateemp").style.display = "none";  document.getElementById("Temp4").style.display = "none";  }
else {document.getElementById("Divsrrateemp").style.display = "block"; document.getElementById("Temp4").style.display = "block";}


document.getElementById("Divsrrate").style.display = "none";
document.getElementById("Divsfrrate").style.display = "none";
document.getElementById("Divrflat").style.display = "none";

if(document.getElementById("Sgross").checked == false  && document.getElementById("Sgrossfirm").checked == false   &&  document.getElementById("Sgrossrate").checked == false &&  document.getElementById("Sgrossrateemp").checked == false  ){  document.getElementById("Divrclasses").style.display = "none";   document.getElementById("Tgross").style.display = "none"; 
} else {document.getElementById("Divrclasses").style.display = "block";document.getElementById("Tgross").style.display = "block"; }


 if(document.getElementById("Sgrossfirm").checked == false   &&  document.getElementById("Sgrossrate").checked == false &&  document.getElementById("Sgrossrateemp").checked == false)document.getElementById("Divrclasses").style.display = "none";


if(document.getElementById("Sgross").checked == false){  document.getElementById("Divsrrate").style.display = "none";   document.getElementById("Divsfrrate").style.display = "none";  document.getElementById("Tgross1").style.display = "none";
} else {document.getElementById("Divsrrate").style.display = "block";   document.getElementById("Divrflat").style.display = "block"; document.getElementById("Tgross1").style.display = "block";}


if(document.getElementById("Sgrossfirm").checked == false){  document.getElementById("Divsfrrate").style.display = "none"; document.getElementById("Tgross2").style.display = "none";
} else {  document.getElementById("Divsfrrate").style.display = "block";document.getElementById("Tgross2").style.display = "block"; }



if(document.getElementById("Sgrossrate").checked == false){  document.getElementById("Divsrrate").style.display = "none";   document.getElementById("Tgross3").style.display = "none";
} else {document.getElementById("Divsrrate").style.display = "block";  document.getElementById("Divrflat").style.display = "block";  document.getElementById("Tgross3").style.display = "block";}



if(document.getElementById("Sgrossrateemp").checked == false){  document.getElementById("Divsserategr").style.display = "none"; document.getElementById("Tgross4").style.display = "none";
 } else {document.getElementById("Divsserategr").style.display = "block";document.getElementById("Tgross4").style.display = "block"; }



if(document.getElementById("Spfirm").checked == false  && document.getElementById("Spemp").checked == false   &&  document.getElementById("Spgross").checked == false &&  document.getElementById("Spgrossclass").checked == false  ){  document.getElementById("Divpclasses").style.display = "none"; document.getElementById("Tprof").style.display = "none";  document.getElementById("Tprofa").style.display = "none";   } else {document.getElementById("Divpclasses").style.display = "block"; document.getElementById("Tprof").style.display = "block";  document.getElementById("Tprofa").style.display = "block"; }

if(document.getElementById("Spfirm").checked == false){  document.getElementById("Divspfrate").style.display = "none";  document.getElementById("Tprof1").style.display = "none";} 
else {document.getElementById("Divspfrate").style.display = "block";document.getElementById("Tprof1").style.display = "block"; }


if(document.getElementById("Spemp").checked == false){  document.getElementById("Divsperate").style.display = "none";  document.getElementById("Tprof2").style.display = "none";} 
else {document.getElementById("Divsperate").style.display = "block"; document.getElementById("Tprof2").style.display = "block";}


if(document.getElementById("Spgross").checked == false){  document.getElementById("Divsprate").style.display = "none"; document.getElementById("Tprof3").style.display = "none"; }
 else {document.getElementById("Divsprate").style.display = "block"; document.getElementById("Tprof3").style.display = "block";}


if(document.getElementById("Spgrossclass").checked == false){  document.getElementById("Dadmindd").style.display = "none"; document.getElementById("Tprof4").style.display = "none"; } 
else {document.getElementById("Dadmindd").style.display = "block"; document.getElementById("Tprof4").style.display = "block";}

scene = true; 

// code to customize datainput display
  if(document.getElementById("Semp").checked == true  ||   document.getElementById("SempRange").checked == true   || document.getElementById("Sempgross").checked == true  || document.getElementById("Sgrossrateemp").checked == true  || document.getElementById("Sempfirm").checked == true   ){empmod = true;}
 
		  
		   if(document.getElementById("Sgrossfirm").checked == true  ||  document.getElementById("Sgross").checked == true  || document.getElementById("Sempgross").checked == true  || document.getElementById("Sgrossrateemp").checked == true  || document.getElementById("Spgross").checked == true  ||  document.getElementById("Spgrossclass").checked == true   ){grossmod = true;}
		   
		    if( document.getElementById("Spfirm").checked == true  || document.getElementById("Spemp").checked == true  || document.getElementById("Sgrossrateemp").checked == true  || document.getElementById("Spgross").checked == true  ||  document.getElementById("Spgrossclass").checked == true   ){profitmod = true;}





showsection(2);
}


const numberWithCommas = (x) => {
  return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

function showsection(sec){


document.getElementById("choose").style.display = "none"; 
document.getElementById("setup").style.display = "none"; 
document.getElementById("load").style.display = "none"; 
document.getElementById("custom").style.display = "none"; 
document.getElementById("rundiv").style.display = "none"; 
document.getElementById("data").style.display = "none"; 
document.getElementById("results").style.display = "none"; 
document.getElementById("container").style.display = "none"; 

document.getElementById("textarea1").style.display = "none"; 
document.getElementById("textarea2").style.display = "none"; 
document.getElementById("textarea3").style.display = "none"; 

if(sec==1)document.getElementById("choose").style.display = "block"; 
if(sec==2)document.getElementById("setup").style.display = "block"; 
if(sec==3){document.getElementById("load").style.display = "block"; document.getElementById("rundiv").style.display = "block";}
if(sec==4)document.getElementById("custom").style.display = "block"; 
if(sec==6)document.getElementById("data").style.display = "block"; 
if(sec==7)document.getElementById("results").style.display = "block"; 
if(sec==8)document.getElementById("container").style.display = "block";




if(empmod == true){ document.getElementById("textarea1").style.display = "block"; }
if(grossmod == true)document.getElementById("textarea2").style.display = "block"; 
if(profitmod == true)document.getElementById("textarea3").style.display = "block"; 

}



function calctrash(){

var dump = document.getElementById("pounds").value/document.getElementById("capacity").value; 
document.getElementById("dumps").innerHTML =   "<b>" + dump.toFixed(2) + "</b>" ; 


var hoursone =  (document.getElementById("routemiles").value/document.getElementById("speed").value) + (document.getElementById("collecttime").value/60); 
document.getElementById("hoursone").innerHTML =  "<b>" + hoursone.toFixed(2) + "</b>"; 

var hoursweek = hoursone * dump; 
document.getElementById("hoursweek").innerHTML =  "<b>" + numberWithCommas(hoursweek.toFixed(2)) + "</b>"; 


var unloadhours = parseInt(document.getElementById("unloadtime").value)/60; 
document.getElementById("unloadhours").innerHTML =  "<b>" + numberWithCommas(unloadhours.toFixed(2)) + "</b>"; 

var unloadweek = unloadhours * dump; 
document.getElementById("unloadweek").innerHTML =  "<b>" + numberWithCommas(unloadweek.toFixed(2)) + "</b>"; 

var weeklabor =  document.getElementById("wage").value * (hoursweek + unloadweek); 
document.getElementById("weeklabor").innerHTML =  "<b>" + numberWithCommas(weeklabor.toFixed(2)) + "</b>"; 

var milesdriven = dump * document.getElementById("routemiles").value ;
document.getElementById("milesdriven").innerHTML =  "<b>" + numberWithCommas(milesdriven.toFixed(2)) + "</b>"; 

var gallons = milesdriven/document.getElementById("mpg").value  ; 
document.getElementById("gallons").innerHTML =  "<b>" + numberWithCommas(gallons.toFixed(2)) + "</b>"; 

var fuelweek = document.getElementById("Diesel").value * gallons; 
document.getElementById("fuelweek").innerHTML =  "<b>" + numberWithCommas(fuelweek.toFixed(2)) + "</b>"; 

var weekop =  document.getElementById("opcost").value * milesdriven; 
document.getElementById("weekop").innerHTML =  "<b>" + numberWithCommas(weekop.toFixed(2)) + "</b>"; 


var tonsweek = document.getElementById("pounds").value/2000; 
document.getElementById("tonsweek").innerHTML =  "<b>" + numberWithCommas(tonsweek.toFixed(2)) + "</b>"; 


var weektip = document.getElementById("tip").value *   tonsweek; 
document.getElementById("weektip").innerHTML =  "<b>" + numberWithCommas(weektip.toFixed(2)) + "</b>"; 

var weekvar =  weektip  + weekop + fuelweek  + weeklabor  ; 
document.getElementById("weekvar").innerHTML =  "<b>" + numberWithCommas(weekvar.toFixed(2)) + "</b>"; 

var totcost = weekvar * 52; 
document.getElementById("totcost").innerHTML =  "<b>" + numberWithCommas(totcost.toFixed(2)) + "</b>"; 


var capacity = document.getElementById("capacity").value;
var pounds = document.getElementById("pounds").value; 
var  collecttime       = document.getElementById("collecttime").value;
var speed =  document.getElementById("speed").value;
var routemiles = document.getElementById("routemiles").value; 
var wage = document.getElementById("wage").value; 
var mpg = document.getElementById("mpg").value; 
var diesel = document.getElementById("Diesel").value;
var opcost = document.getElementById("opcost").value; 
var tip = document.getElementById("tip").value; 






var paperp = 0.274; 
var glassp = 0.046; 
var plasticsp = 0.127; 
var yardp = 0.135; 
var metalsp = 0.074; 
var alump = 0.014; 
var foodp = 0.145; 

var papert = 0; 
var glasst = 0; 
var plasticst = 0; 
var yardt = 0; 
var metalst = 0; 
var alumt = 0;
var foodt = 0; 

thisdata = ""; 
thecategories =""; 
thecategories = thecategories + "'Total Cost Without Recycling'" + ",";
thisdata = thisdata + totcost.toFixed(2) + ","

    document.getElementById("write").innerHTML =              "<p style='font-size:20px;color:blue'>Avoided Costs from Recycling</p>"; 
				 
  if(document.getElementById("paper").checked == true){   
     var paperper =  document.getElementById("paperper").options[document.getElementById("paperper").selectedIndex].text/100;
     var pp = pounds * paperp * paperper; 
	 var dd = pp/capacity; // fewer dumps
	 var mm = paperp * paperper * collecttime;
	 var hh = (routemiles/collecttime) + (mm/60);
	 var hw = hh*dd; //regular hours
	 var uw = dd * unloadhours; //unloadhours
	 var ww = wage*(hw+uw); //weekly wage
	 var fm = dd*routemiles ;                // fewer miles 
	 var fg = fm/mpg ; // fewer gallons 
	 var fs = fg*diesel ; //fuel cost saved
     var os = fm*opcost ; //operational cost saved
	 var ft = pp/2000 ; // fewer tons 
	 var ftc = ft*tip ; // fewer tipping costs 
	 var wac = ftc + os + fs + ww ; // weekly avoided cost 
	 var tac = wac*52 ; // total avoided costs
	
	 document.getElementById("write").innerHTML =  document.getElementById("write").innerHTML + "<li><b>Total Avoided Costs from Paper: $</b>" + numberWithCommas(tac.toFixed(2)) + "</li>"; 
	 papert = tac; 
	 thisdata = thisdata + tac.toFixed(2) + ",";
	 thecategories = thecategories + "'Paper Recycling Avoided Costs'" + ",";

  }

if(document.getElementById("glass").checked == true){ 
      var glassper =  document.getElementById("glassper").options[document.getElementById("glassper").selectedIndex].text/100;    
      var pp = pounds * glassp * glassper; 
	 var dd = pp/capacity; // fewer dumps
	 var mm = glassp * glassper * collecttime;
	 var hh = (routemiles/collecttime) + (mm/60);
	 var hw = hh*dd; //regular hours
	 var uw = dd * unloadhours; //unloadhours
	 var ww = wage*(hw+uw); //weekly wage
	 var fm = dd*routemiles ;                // fewer miles 
	 var fg = fm/mpg ; // fewer gallons 
	 var fs = fg*diesel ; //fuel cost saved
     var os = fm*opcost ; //operational cost saved
	 var ft = pp/2000 ; // fewer tons 
	 var ftc = ft*tip ; // fewer tipping costs 
	 var wac = ftc + os + fs + ww ; // weekly avoided cost 
	 var tac = wac*52 ; // total avoided costs
	
	 document.getElementById("write").innerHTML =  document.getElementById("write").innerHTML + "<li><b>Total Avoided Costs from Glass: $</b>" + numberWithCommas(tac.toFixed(2)) + "</li>"; 
	  glasst = tac;
	  thisdata = thisdata + tac.toFixed(2) + ",";
	  thecategories = thecategories + "'Glass Recycling Avoided Costs'" + ",";
	  
  }
  
  if(document.getElementById("plastics").checked == true){
      var plasticsper =  document.getElementById("plasticsper").options[document.getElementById("plasticsper").selectedIndex].text/100;    
     var pp = pounds * plasticsp * plasticsper; 
	 var dd = pp/capacity; // fewer dumps
	 var mm = plasticsp * plasticsper * collecttime;
	 var hh = (routemiles/collecttime) + (mm/60);
	 var hw = hh*dd; //regular hours
	 var uw = dd * unloadhours; //unloadhours
	 var ww = wage*(hw+uw); //weekly wage
	 var fm = dd*routemiles ;                // fewer miles 
	 var fg = fm/mpg ; // fewer gallons 
	 var fs = fg*diesel ; //fuel cost saved
     var os = fm*opcost ; //operational cost saved
	 var ft = pp/2000 ; // fewer tons 
	 var ftc = ft*tip ; // fewer tipping costs 
	 var wac = ftc + os + fs + ww ; // weekly avoided cost 
	 var tac = wac*52 ; // total avoided costs
	
	 document.getElementById("write").innerHTML =  document.getElementById("write").innerHTML + "<li><b>Total Avoided Costs from Plastics: $</b>" + numberWithCommas(tac.toFixed(2)) + "</li>"; 
	  plasticst  = tac;
	  thisdata = thisdata + tac.toFixed(2) + ",";
      thecategories = thecategories + "'Plastics Recycling Avoided Costs'" + ",";
  }
  
  if(document.getElementById("yard").checked == true){   

       var yardper =  document.getElementById("yardper").options[document.getElementById("yardper").selectedIndex].text/100;      
      var pp = pounds * yardp * yardper; 
	 var dd = pp/capacity; // fewer dumps
	 var mm = yardp * yardper * collecttime;
	 var hh = (routemiles/collecttime) + (mm/60);
	 var hw = hh*dd; //regular hours
	 var uw = dd * unloadhours; //unloadhours
	 var ww = wage*(hw+uw); //weekly wage
	 var fm = dd*routemiles ;                // fewer miles 
	 var fg = fm/mpg ; // fewer gallons 
	 var fs = fg*diesel ; //fuel cost saved
     var os = fm*opcost ; //operational cost saved
	 var ft = pp/2000 ; // fewer tons 
	 var ftc = ft*tip ; // fewer tipping costs 
	 var wac = ftc + os + fs + ww ; // weekly avoided cost 
	 var tac = wac*52 ; // total avoided costs
	
	 document.getElementById("write").innerHTML =  document.getElementById("write").innerHTML + "<li><b>Total Avoided Costs from Yard: $</b>" + numberWithCommas(tac.toFixed(2)) + "</li>"; 
	 yardt = tac;
	 thisdata = thisdata + tac.toFixed(2) + ",";
	 thecategories = thecategories + "'Yard Clipping Recycling Avoided Costs'" + ",";
  }
  
  
if(document.getElementById("alum").checked == true){ 
      var alumper =  document.getElementById("alumper").options[document.getElementById("alumper").selectedIndex].text/100;    
      var pp = pounds * alump * alumper; 
	 var dd = pp/capacity; // fewer dumps
	 var mm = alump * alumper * collecttime;
	 var hh = (routemiles/collecttime) + (mm/60);
	 var hw = hh*dd; //regular hours
	 var uw = dd * unloadhours; //unloadhours
	 var ww = wage*(hw+uw); //weekly wage
	 var fm = dd*routemiles ;                // fewer miles 
	 var fg = fm/mpg ; // fewer gallons 
	 var fs = fg*diesel ; //fuel cost saved
     var os = fm*opcost ; //operational cost saved
	 var ft = pp/2000 ; // fewer tons 
	 var ftc = ft*tip ; // fewer tipping costs 
	 var wac = ftc + os + fs + ww ; // weekly avoided cost 
	 var tac = wac*52 ; // total avoided costs
	
	 document.getElementById("write").innerHTML =  document.getElementById("write").innerHTML + "<li><b>Total Avoided Costs from Aluminum: $</b>" + numberWithCommas(tac.toFixed(2)) + "</li>"; 
	  alumt = tac;
	  thisdata = thisdata + tac.toFixed(2) + ",";
	  thecategories = thecategories + "'Aluminum Recycling Avoided Costs'" + ",";
	  
  }
  
  
  if(document.getElementById("metals").checked == true){ 
       var metalsper =  document.getElementById("metalsper").options[document.getElementById("metalsper").selectedIndex].text/100;    
      var pp = pounds * metalsp * metalsper; 
	 var dd = pp/capacity; // fewer dumps
	 var mm = metalsp * metalsper * collecttime;
	 var hh = (routemiles/collecttime) + (mm/60);
	 var hw = hh*dd; //regular hours
	 var uw = dd * unloadhours; //unloadhours
	 var ww = wage*(hw+uw); //weekly wage
	 var fm = dd*routemiles ;                // fewer miles 
	 var fg = fm/mpg ; // fewer gallons 
	 var fs = fg*diesel ; //fuel cost saved
     var os = fm*opcost ; //operational cost saved
	 var ft = pp/2000 ; // fewer tons 
	 var ftc = ft*tip ; // fewer tipping costs 
	 var wac = ftc + os + fs + ww ; // weekly avoided cost 
	 var tac = wac*52 ; // total avoided costs
	
	 document.getElementById("write").innerHTML =  document.getElementById("write").innerHTML + "<li><b>Total Avoided Costs from Metals: $</b>" + numberWithCommas(tac.toFixed(2)) + "</li>"; 
	 metalst = tac;
	 thisdata = thisdata + tac.toFixed(2) + ",";
	 thecategories = thecategories + "'Metals Recycling Avoided Costs'" + ",";
  }
  
   
	 
  if(document.getElementById("food").checked == true){
     var foodper =  document.getElementById("foodper").options[document.getElementById("foodper").selectedIndex].text/100;   
     var pp = pounds * foodp * foodper; 
	 var dd = pp/capacity; // fewer dumps
	 var mm = foodp * foodper * collecttime;
	 var hh = (routemiles/collecttime) + (mm/60);
	 var hw = hh*dd; //regular hours
	 var uw = dd * unloadhours; //unloadhours
	 var ww = wage*(hw+uw); //weekly wage
	 var fm = dd*routemiles ;                // fewer miles 
	 var fg = fm/mpg ; // fewer gallons 
	 var fs = fg*diesel ; //fuel cost saved
     var os = fm*opcost ; //operational cost saved
	 var ft = pp/2000 ; // fewer tons 
	 var ftc = ft*tip ; // fewer tipping costs 
	 var wac = ftc + os + fs + ww ; // weekly avoided cost 
	 var tac = wac*52 ; // total avoided costs
	
	 document.getElementById("write").innerHTML =  document.getElementById("write").innerHTML + "<li><b>Total Avoided Costs from Food: $</b>" + numberWithCommas(tac.toFixed(2)) + "</li>"; 
	 foodt = tac;
	 thisdata = thisdata + tac.toFixed(2) + ",";
	 thecategories = thecategories + "'Food Recycling Avoided Costs'" + ",";
  }
 
   var grandtotavoid = foodt + metalst + alumt + yardt  + plasticst  + glasst  + papert  ; 
   document.getElementById("write").innerHTML =  document.getElementById("write").innerHTML + "<br><b>Grand Total of Avoided Costs: $</b>" + numberWithCommas(grandtotavoid.toFixed(2)) + ""; 

   var finalcost = totcost - grandtotavoid;
    document.getElementById("write").innerHTML =  document.getElementById("write").innerHTML + "<br><b>Final Cost: $</b>" + numberWithCommas(finalcost.toFixed(2)) + "</li>";    
   
    thisdata = thisdata + finalcost.toFixed(2) + ",";
    thecategories = thecategories + "'Final Costs $'" + ",";
   thecategories = thecategories.substr(0,thecategories.length-1);
  // document.getElementById("container").innerHTML = ""; 
   
   dochart();
}


</script>


</head>



<body onLoad="">


<script src="highcharts.js"></script>
<script src="exporting.js"></script>



<a href="otdirections.htm">Directions</a>
<table><td valign=top>
<a href='index.htm'><img src=recycle.png height=130px width=130px></a></td><td><div style='font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:34px;' > Sanitation Service Costs  </div>
</td>
</table>

<dif style='font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:12px;'>
  </div>
<hr>


<div id="results" style="display:none;position: fixed;top:250; left: 550;"  >No Report Created Yet</div>

<div id="container"  style="display:block;height:700px; width:800px; position: fixed;top:150; left: 550" >No Chart Created Yet</div>


<form name=form1>





<table class=""width=450px><tr><td>
<fieldset width="500px" id="choose" style="display:block">
<legend style='font-family:"Lucida Sans Unicode", "Lucida Grande", Sans-Serif;font-size:24px;'>Input Local Costs</legend>
<table class="resultTbl">
<tr><th>Dumps Needed</th></tr>
<tr><td> Total amount of trash collected per week - in pounds
<input type=text id="pounds" size=6 value=333333> </td> </tr>
<tr><td> Capacity of 1 Garbage Truck<input type=text id="capacity" size=6 value=16000> </td></tr> 
<tr><td>Number of "Dumps" needed per week
<div  id="dumps"> </div></td></tr>

<tr><th>Collection Time</th></tr>
<tr><td>Average Collection Time per Route - minutes
 <input type=text id="collecttime" size=6 value=30> </td> </tr>
 <tr><td> Average Miles per Route
<input type=text id="routemiles" size=6 value=70> </td> </tr>
 <tr><td>Average speed of Garbage Truck - in mph
<input type=text id="speed" size=6 value=20 ></td></tr>
<tr><td>Hours required for One Transport
<div  id="hoursone"> </div></td></tr>
<tr><td> Hours per Week to Travel to Landfill/Transfer Station
<div  id="hoursweek"> </div> </td> </tr>
<tr><td> Unloading time per trip - minutes
<input type=text id="unloadtime" size=6 value=20 > </td> </tr>
 <tr><td>Unloading time per trip - hours
<div  id="unloadhours"> </div></td></tr>
<tr><td>Unloading time per week - hours
<div  id="unloadweek"> </div></td></tr>

<tr><th>Labor Costs</th></tr>
<tr><td>Average hourly wage (plus benefits)
 <input type=text id="wage" size=6 value=16.02 > </td></tr>
 <tr><td>Weekly labor cost
 <div  id="weeklabor"> </div> </td> </tr>

 <tr><th>Fuel Costs</th></tr>
<tr> <td>Miles driven per week
<div  id="milesdriven"> </div></td></tr>


<tr><td> Garbage Truck MPG
<input type=text id="mpg" size=6  value=3> </td></tr>
<tr> <td> Gallons of Fuel per Week
<div  id="gallons"> </div> </td> </tr>
 <tr><td>Avg. Price of Diesel
<input type=text id="Diesel" size=6  value=2.60 ></td></tr>
<tr><td>Fuel Cost per Week
<div  id="fuelweek"> </div></td></tr>

<tr><th>Operational Costs</th></tr>
<tr><td>Operational costs of Garbage Truck per mile
 <input type=text id="opcost" size=6 value=0.57 > </td></tr>
<tr> <td>Weekly Operational costs for Garbage Truck
<div  id="weekop"> </div></td></tr>
 <tr><td>Tons per Week Dumped
<div  id="tonsweek"> </div></td></tr>
<tr><th>Tipping Costs</th></tr>
<tr><td>Cost per ton to tip (tipping fee)
<input type=text id="tip" size=6 value=35 ></td></tr>

<tr><td>Weekly tipping costs
<div  id="weektip"> </div></td></tr>
<tr> <td>Total Weekly Variable Cost
<div  id="weekvar"> </div></td></tr>
  <td>Total Annual Variable Cost
<div  id="totcost"> </div></td></tr>
  
  




<tr><th colspan=2>Recycling Redemption Value & Percent Recycled</th><tr>
<td valign=top>
<input type=checkbox    id="paper" value="y"  > Paper & Paperboard  </td><td>Percent: <select id="paperper"><option>10<option>20<option>30<option>40<option>50<option>60<option>70<option>80<option>90<option selected>100</select>
</td></tr>
<tr>
<td valign=top>
<input type=checkbox    id="glass" value="y"   > Glass </td><td>Percent: <select id="glassper"><option>10<option>20<option>30<option>40<option>50<option>60<option>70<option>80<option>90<option selected>100</select>
</td>
</tr>
<tr>
<td valign=top>
<input type=checkbox    id="plastics" value="y"  > Plastics </td><td>Percent: <select id="plasticsper"><option>10<option>20<option>30<option>40<option>50<option>60<option>70<option>80<option>90<option selected>100</select>
</td>

</tr>
<tr>
<td valign=top>
<input type=checkbox    id="yard" value="y"  >  Yard Trimmings  </td><td>Percent: <select id="yardper"><option>10<option>20<option>30<option>40<option>50<option>60<option>70<option>80<option>90<option selected>100</select>
</td>
</tr>
<tr>
<td valign=top>
<input type=checkbox    id="alum" value="y"   > Aluminum </td><td>Percent: <select id="alumper"><option>10<option>20<option>30<option>40<option>50<option>60<option>70<option>80<option>90<option selected>100</select>
</td>
</tr>
<tr>
<td valign=top>
<input type=checkbox    id="metals" value="y"  > Metals </td><td>Percent: <select id="metalsper"><option>10<option>20<option>30<option>40<option>50<option>60<option>70<option>80<option>90<option selected>100</select>
</td>
</tr>
<tr>
<td valign=top>
<input type=checkbox    id="food" value="y"  > Food Waste  </td><td>Percent: <select id="foodper"><option>10<option>20<option>30<option>40<option>50<option>60<option>70<option>80<option>90<option selected>100 </select>
</td>
</tr>

</td>
</tr>

<tr><th colspan=2>Output</th><tr>
<td colspan=2>
<div id=write>
Avoided Costs from Recycling
</div>
</td>
</tr>
</table>

<br>
<input type=button class=button id=showb  onClick="calctrash()" value="Build Scenarios">

</fieldset>





</form>
